<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>【Lua 筆記】作用域 / 函數 - part 7 | Yaoの程式小窩</title><meta name="author" content="LukeTseng"><meta name="copyright" content="LukeTseng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="【Lua 筆記】作用域 &#x2F; 函數 - part 7由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 作用域（scope）作用域（scope），表示一個變數或函數等能夠作用的範圍，什"><meta property="og:type" content="article"><meta property="og:title" content="【Lua 筆記】作用域 &#x2F; 函數 - part 7"><meta property="og:url" content="https://luketsengtw.github.io/posts/453d0377"><meta property="og:site_name" content="Yaoの程式小窩"><meta property="og:description" content="【Lua 筆記】作用域 &#x2F; 函數 - part 7由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 作用域（scope）作用域（scope），表示一個變數或函數等能夠作用的範圍，什"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://luketsengtw.github.io/img/lua_cover.png"><meta property="article:published_time" content="2024-06-23T16:39:58.000Z"><meta property="article:modified_time" content="2025-08-07T15:41:54.685Z"><meta property="article:author" content="LukeTseng"><meta property="article:tag" content="程式語言"><meta property="article:tag" content="Lua"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://luketsengtw.github.io/img/lua_cover.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【Lua 筆記】作用域 / 函數 - part 7",
  "url": "https://luketsengtw.github.io/posts/453d0377",
  "image": "https://luketsengtw.github.io/img/lua_cover.png",
  "datePublished": "2024-06-23T16:39:58.000Z",
  "dateModified": "2025-08-07T15:41:54.685Z",
  "author": [
    {
      "@type": "Person",
      "name": "LukeTseng",
      "url": "https://luketsengtw.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/website_favicon.ico"><link rel="canonical" href="https://luketsengtw.github.io/posts/453d0377"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="S50ZW5JR-4iAagicR6omYnAz8LUv5ZcouskPpuBaFBs"><link rel="manifest" href="/img/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=t,btf.activateLightMode=o;const a=e.get("theme");"dark"===a?t():"light"===a&&o();const n=e.get("aside-status");void 0!==n&&document.documentElement.classList.toggle("hide-aside","hide"===n);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-7EES35MTFS"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7EES35MTFS"),btf.addGlobalFn("pjaxComplete",()=>{gtag("config","G-7EES35MTFS",{page_path:window.location.pathname})},"google_analytics")</script><script>!function(e,t,a,n,o){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-5BKRW8SL",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer"),btf.addGlobalFn("pjaxComplete",()=>{dataLayer.push({event:"pjaxComplete",page_title:document.title,page_location:location.href,page_path:window.location.pathname})},"google_tag_manager")</script><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"EF32H7JNEE",apiKey:"876fdde0317458bcae93bc0ded1d7176",indexName:"hexo",hitsPerPage:10,languages:{input_placeholder:"想找些什麼呢...?",hits_empty:"找不到符合您查詢的內容：${query}",hits_stats:"找到 ${hits} 筆結果，耗時 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:1,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!0,highlightMacStyle:!0},copy:{success:"複製成功",error:"複製失敗",noSupport:"瀏覽器不支援"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"剛剛",min:"分鐘前",hour:"小時前",day:"天前",month:"個月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"已切換為繁體中文",cht_to_chs:"已切換為簡體中文",day_to_night:"已切換為深色模式",night_to_day:"已切換為淺色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-left"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"載入更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"【Lua 筆記】作用域 / 函數 - part 7",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Yaoの程式小窩" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">載入中...</div></div></div><script>(()=>{const e=document.getElementById("loading-box"),d=document.body,t=()=>{e.classList.contains("loaded")||(d.style.overflow="",e.classList.add("loaded"))},o=()=>{d.style.overflow="hidden",e.classList.remove("loaded")};o(),"complete"===document.readyState?t():(window.addEventListener("load",t),document.addEventListener("DOMContentLoaded",t),setTimeout(t,7e3))})()</script><div id="web_bg" style="background-image:url(/img/web_background_smaller.jpg)"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">183</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">57</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">22</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/lua_cover.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/icon.png" alt="Logo"><span class="site-name">Yaoの程式小窩</span></a><a class="nav-page-title" href="/"><span class="site-name">【Lua 筆記】作用域 / 函數 - part 7</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span> 返回首頁</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜尋</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">【Lua 筆記】作用域 / 函數 - part 7</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2024-06-23T16:39:58.000Z" title="發表於 2024-06-24 00:39:58">2024-06-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2025-08-07T15:41:54.685Z" title="更新於 2025-08-07 23:41:54">2025-08-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/programming/">程式設計</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/programming/lua/">Lua</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">總字數:</span><span class="word-count">2.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀時間:</span><span>9分鐘</span></span><span class="post-meta-separator">|</span><span data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">瀏覽量:</span><span class="waline-pageview-count" data-path="/posts/453d0377"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">評論數:</span><a href="/posts/453d0377#post-comment"><span class="waline-comment-count" data-path="/posts/453d0377"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="【Lua-筆記】作用域-函數-part-7"><a href="#【Lua-筆記】作用域-函數-part-7" class="headerlink" title="【Lua 筆記】作用域 / 函數 - part 7"></a>【Lua 筆記】作用域 / 函數 - part 7</h1><p>由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。</p><p>這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。</p><h1 id="作用域（scope）"><a href="#作用域（scope）" class="headerlink" title="作用域（scope）"></a>作用域（scope）</h1><p>作用域（scope），表示一個變數或函數等能夠作用的範圍，什麼意思呢？請看以下例子：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span> <span class="comment">-- 這是全域變數</span></span><br><span class="line"><span class="keyword">local</span> a = <span class="number">50</span> <span class="comment">-- 這是局域變數</span></span><br></pre></td></tr></table></figure><p>lua 當中的變數，沒有在前面加上 local 以外，全部都是「全域變數」，你可以把全域變數想像成是一個到哪裡都可以用的變數。</p><p>局域變數就只限縮於”目前”的範圍，什麼意思呢？也就是在變數前面宣告了 local 這個關鍵字，就只有這整個文件可以用這個變數而已，其他的文件不能存取到它的值。（這只是粗淺的解釋，實際上看的是他目前所在的作用域範圍）</p><p>具體是何種”目前”的範圍，我們在說明函數的時候稍待說明一下。</p><h1 id="函數（function）"><a href="#函數（function）" class="headerlink" title="函數（function）"></a>函數（function）</h1><p>函數（function），又被稱為副程式、函式，我們在之前有稍微說明過它的概念，忘記的請至 part 1 的資料型態重看一遍。</p><p>總之函數它就是一台有功能的機器，輸入東西之後，在裡面運轉的機器（功能），運轉完後會輸出東西給我們。</p><p>以下是 lua 對函數的定義：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">optional_function_scope <span class="function"><span class="keyword">function</span> <span class="title">function_name</span><span class="params">(argument1, argument2, argument3..., argumentn)</span></span></span><br><span class="line">    function_body</span><br><span class="line">    <span class="keyword">return</span> result_params_comma_separated</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><ul><li>optional_function_scope : 可以指定這個函數是全域還是局域，全域的話就不用寫，局域請打上 local 關鍵字。</li><li>function_name : 指定函數名稱。</li><li>argument1, argument2, argument3…, argumentn : 表示一個函數的參數，多個參數以逗號隔開，函數也可以不帶參數。</li><li>function_body : 函數體，函數中需要執行的程式碼區塊。</li><li>result_params_comma_separated : 函數當中的回傳值，Lua 的函數可以回傳多個值，每個值以逗號隔開。</li></ul><p>:::danger<br>註：return 一旦觸發後，函數裡面 return 後續的程式碼就不會繼續執行，所以 return 可以表示回傳後結束。<br>:::</p><h2 id="函數當中的變數"><a href="#函數當中的變數" class="headerlink" title="函數當中的變數"></a>函數當中的變數</h2><p>前面我們談到作用域的部分，用函數解釋是最為明顯的，請看以下例子：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span> <span class="comment">-- 設定全域變數</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> a = <span class="number">15</span> <span class="comment">-- 設定局域變數</span></span><br><span class="line">  <span class="keyword">return</span> a</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(func()) <span class="comment">-- 15</span></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">-- 10</span></span><br></pre></td></tr></table></figure><p>在函數外面的部分，a 被設定是全域變數，a = 10。</p><p>函數裡面又設定一個局域變數，也叫做 a = 15。</p><p>我們要使用函數呢，就直接寫它的函數名稱再加上小括號就好囉，然後這個我們稱之為呼叫（call）函數。</p><p>執行結果，發現 a 的值竟然沒有被改變，理應來說兩個都要是 15 才對啊！</p><p>為什麼？這就是作用域規則啦～因為函數裡面本身也是一種局域的作用域，函數以外的就拿不到函數內的東西囉。</p><p>或是可以這樣想：函數外的全域變數，與函數內的局域變數兩者是截然不同的變數。</p><p>換個方式，如果我們這樣寫：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line">  a = <span class="number">15</span></span><br><span class="line">  <span class="keyword">return</span> a</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(func()) <span class="comment">-- 15</span></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">-- 15</span></span><br></pre></td></tr></table></figure><p>可以發現，輸出結果就變兩個都是 15 了。把 local 拿掉，此時的 a 就不再是兩個截然不同的變數了，就好像把散掉的分身結合再一起一樣。</p><p>此時函數內調用的就是 a 這個「全域變數」。</p><h2 id="多重回傳值"><a href="#多重回傳值" class="headerlink" title="多重回傳值"></a>多重回傳值</h2><p>範例來源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-functions.html">Lua 函数 | 菜鸟教程</a></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maximum</span> <span class="params">(a)</span></span></span><br><span class="line">    <span class="keyword">local</span> mi = <span class="number">1</span>             <span class="comment">-- 最大值索引</span></span><br><span class="line">    <span class="keyword">local</span> m = a[mi]          <span class="comment">-- 最大值</span></span><br><span class="line">    <span class="keyword">for</span> i,val <span class="keyword">in</span> <span class="built_in">ipairs</span>(a) <span class="keyword">do</span></span><br><span class="line">       <span class="keyword">if</span> val &gt; m <span class="keyword">then</span></span><br><span class="line">           mi = i</span><br><span class="line">           m = val</span><br><span class="line">       <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> m, mi</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(maximum(&#123;<span class="number">8</span>,<span class="number">10</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">5</span>&#125;))</span><br></pre></td></tr></table></figure><p>執行結果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">23    3</span><br></pre></td></tr></table></figure><p>以上的程式碼可以從一串數字當中，從陣列索引 1 開始，尋找出最大值並且回傳，還能夠回傳該最大值在陣列當中的索引值。</p><h2 id="不定長參數（可變參數）"><a href="#不定長參數（可變參數）" class="headerlink" title="不定長參數（可變參數）"></a>不定長參數（可變參數）</h2><p>Lua 中使用三點 <code>...</code> 表示函數有可變的參數，意思就是可以輸入很多個參數進去。</p><p>以下是一個範例（<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-functions.html">Lua 函数 | 菜鸟教程</a>）：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(...)</span></span>  </span><br><span class="line">    <span class="keyword">local</span> s = <span class="number">0</span>  </span><br><span class="line">    <span class="keyword">for</span> i, v <span class="keyword">in</span> <span class="built_in">ipairs</span> &#123;...&#125; <span class="keyword">do</span>   <span class="comment">--&gt; &#123;...&#125; 表示由一個所有不定長參數組成的陣列</span></span><br><span class="line">        s = s + v  </span><br><span class="line">    <span class="keyword">end</span>  </span><br><span class="line">    <span class="keyword">return</span> s  </span><br><span class="line"><span class="keyword">end</span>  </span><br><span class="line"><span class="built_in">print</span>(add(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>))  <span class="comment">---&gt; 25</span></span><br></pre></td></tr></table></figure><p>上面的意思概括來說，就是呼叫 add 函數時，能夠輸入很多不限長度的參數進去，像是上面輸入 3,4,5,6,7，進入函數裡面。</p><p>這支函數主要計算由不定長參數組成的陣列中，所有元素的總和。</p><p>先用一個 temp 變數暫存（這裡稱為 s，sum 為總和的意思），之後在透過運算 s = s + v 不斷計算求得總和。</p><p>以下的範例（<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-functions.html">Lua 函数 | 菜鸟教程</a>）當中，可以透過 select(“#”,…) 來取得不定長參數的數量：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">average</span><span class="params">(...)</span></span></span><br><span class="line">   result = <span class="number">0</span></span><br><span class="line">   <span class="keyword">local</span> <span class="built_in">arg</span>=&#123;...&#125;</span><br><span class="line">   <span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(<span class="built_in">arg</span>) <span class="keyword">do</span></span><br><span class="line">      result = result + v</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line">   <span class="built_in">print</span>(<span class="string">&quot;總共傳入 &quot;</span> .. <span class="built_in">select</span>(<span class="string">&quot;#&quot;</span>,...) .. <span class="string">&quot; 個數&quot;</span>)</span><br><span class="line">   <span class="keyword">return</span> result/<span class="built_in">select</span>(<span class="string">&quot;#&quot;</span>,...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;平均值為&quot;</span>,average(<span class="number">10</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>))</span><br></pre></td></tr></table></figure><p>輸出結果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">總共傳入 6 個數</span><br><span class="line">平均值為    5.5</span><br></pre></td></tr></table></figure><p>有時候我們需要一些固定的參數，再來加上不定長參數，以下是一個應用範例：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span><span class="params">(fixedParam, ...)</span></span> <span class="comment">-- fixedParam 為固定參數, ... 是不定長參數</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;固定參數 : &quot;</span> .. fixedParam)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> args = &#123; ... &#125;</span><br><span class="line">  <span class="keyword">for</span> i, v <span class="keyword">in</span> <span class="built_in">ipairs</span>(args) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;不定長參數 &quot;</span> .. i .. <span class="string">&quot; : &quot;</span> .. v)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">func(<span class="string">&quot;固定值&quot;</span>, <span class="string">&quot;參數1&quot;</span>, <span class="string">&quot;參數2&quot;</span>, <span class="string">&quot;參數3&quot;</span>)</span><br></pre></td></tr></table></figure><p>輸出結果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">固定參數 : 固定值</span><br><span class="line">不定長參數 1 : 參數1</span><br><span class="line">不定長參數 2 : 參數2</span><br><span class="line">不定長參數 3 : 參數3</span><br></pre></td></tr></table></figure><p>然後再來介紹 select 的另一個用法：</p><p>:::info<br><code>select(n, …)</code> 用於回傳從起點 n 開始到結束位置的所有參數列表。<br>:::</p><blockquote><p>呼叫 select 時，必須傳入一個固定實參 selector (選擇開關) 和一系列變長參數。如果 selector 為數字 n，那麼 select 傳回參數列表中從索引 n 開始到結束位置的所有參數列表，否則只能為字串 #，這樣 select 會傳回變長參數的總數。</p></blockquote><p>上面這段話擷取自：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-functions.html">Lua 函数 | 菜鸟教程</a></p><p>解釋一下：</p><ul><li>固定實參(Fixed Argument)：固定實參是指在函數呼叫時，必須傳遞的參數。這些參數的數量和順序是固定的，函數定義時就已經確定。</li><li>變長參數(Variable-Length Argument)：也就是不定長參數。變長參數是指在函數呼叫時，可以傳遞任意數量的參數。這些參數的數量和順序在函數定義時是不確定的。Lua 使用三個點 (…) 來表示變長參數。</li></ul><p>看起來很複雜，很不容易懂對吧？以下這樣解釋或許會比較清楚：</p><p>:::warning<br>select 函數：</p><p>它的第一個參數是固定實參 selector，後面的參數是變長參數。select( 這裡是第一個參數 , …)</p><p>如果 selector 是一個數字 n，則 select 會回傳從第 n 個變長參數開始到最後一個變長參數的列表。</p><p>如果 selector 是字串 #（”#”），那麼 select 會返回變長參數的總數。<br>:::</p><p>還是不清楚的話，讓我們看個具體的例子：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span><span class="params">(...)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">select</span>(<span class="number">1</span>, ...))  <span class="comment">-- 打印所有變長參數</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">select</span>(<span class="number">2</span>, ...))  <span class="comment">-- 打印從第二個變長參數開始的所有參數</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">select</span>(<span class="string">&quot;#&quot;</span>, ...)) <span class="comment">-- 打印變長參數的總數</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">func(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>)</span><br></pre></td></tr></table></figure><p>輸出結果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a   b   c   d</span><br><span class="line">b   c   d</span><br><span class="line">4</span><br></pre></td></tr></table></figure><p>練習一下：請用 lua 寫出一支程式碼，運用本篇的概念（不定長參數、select 函數運用），寫出如下程式碼一樣的輸出結果。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line"><span class="keyword">for</span> i, v <span class="keyword">in</span> <span class="built_in">ipairs</span>(a) <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;arg&quot;</span>, v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>輸出結果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arg 1</span><br><span class="line">arg 2</span><br><span class="line">arg 3</span><br><span class="line">arg 4</span><br></pre></td></tr></table></figure><p>:::spoiler 點左邊三角形, 看解答跟詳解</p><p>::: info<br>程式碼源自：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-functions.html"><strong>Lua 函数 | 菜鸟教程</strong></a></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">(...)</span></span></span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, <span class="built_in">select</span>(<span class="string">&#x27;#&#x27;</span>, ...) <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">local</span> <span class="built_in">arg</span> = <span class="built_in">select</span>(i, ...)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;arg&quot;</span>, <span class="built_in">arg</span>)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>解釋：</p><p><code>do ... end</code> 表示創建一個局部作用域，避免影響到外部程式碼的運作。foo 函數和任何在區域內定義的局部變數在 <code>do ... end</code> 區塊結束後都不會影響到外部的程式碼。</p><p>第三行：用 for 迴圈來遍歷所有傳遞給 foo 函數的參數。select(‘#’, …) 回傳傳遞給函數的參數個數。</p><p>第四行：定義局域變數 arg = select(i, …)，用 select 函數來獲取第 i 個參數並將其指定給局部變量 arg。select(i, …) 回傳第 i 個參數的值。</p><p>註：直接 print 出 arg 跟用 print(select(i, …)) 是不一樣的，前者只會印出 select() 的第一個參數，後者從第 i 個參數到最後一個參數全印。<br>:::</p><h1 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h1><p>作用域（scope），表示一個變數或函數等能夠作用的範圍。</p><p>分為全域作用域、局域作用域，當然也分成全域變數、局域變數，抑或是全域函數、局域函數等。</p><p>使用 <code>do ... end</code> 可建立一個局域作用域。像這樣：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   <span class="keyword">local</span> a = <span class="number">15</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">-- 10</span></span><br></pre></td></tr></table></figure><p>以下是 lua 對函數的定義：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">optional_function_scope <span class="function"><span class="keyword">function</span> <span class="title">function_name</span><span class="params">(argument1, argument2, argument3..., argumentn)</span></span></span><br><span class="line">    function_body</span><br><span class="line">    <span class="keyword">return</span> result_params_comma_separated</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><ul><li>optional_function_scope : 可以指定這個函數是全域還是局域，全域的話就不用寫，局域請打上 local 關鍵字。</li><li>function_name : 指定函數名稱。</li><li>argument1, argument2, argument3…, argumentn : 表示一個函數的參數，多個參數以逗號隔開，函數也可以不帶參數。</li><li>function_body : 函數體，函數中需要執行的程式碼區塊。</li><li>result_params_comma_separated : 函數當中的回傳值，Lua 的函數可以回傳多個值，每個值以逗號隔開。</li></ul><p>:::danger<br>註：return 一旦觸發後，函數裡面 return 後續的程式碼就不會繼續執行，所以 return 可以表示回傳後結束。<br>:::</p><p>Lua 中使用三點 <code>...</code> 表示函數有可變的參數，意思就是可以輸入很多個參數進去。（不定長參數或稱變長參數）</p><p><code>select (index, ···)</code></p><p>:::warning<br>select 函數：</p><p>它的第一個參數是固定實參 selector，後面的參數是變長參數。select( 這裡是第一個參數 , …)</p><p>如果 selector 是一個數字 n，則 select 會回傳從第 n 個變長參數開始到最後一個變長參數的列表。</p><p>如果 selector 是字串 #（”#”），那麼 select 會返回變長參數的總數。<br>:::</p><h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.lagagain.com/post/30%E5%A4%A9lua%E9%87%8D%E6%8B%BE%E7%AD%86%E8%A8%9809%E5%9F%BA%E7%A4%8E1-%E9%A1%9E%E5%9E%8B-%E5%87%BD%E6%95%B8/">【30天Lua重拾筆記09】基礎1: 類型 - 函數 | 又LAG隨性筆記</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-variables.html">Lua 变量 | 菜鸟教程</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-functions.html">Lua 函数 | 菜鸟教程</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://luketsengtw.github.io">LukeTseng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章連結: </span><span class="post-copyright-info"><a href="https://luketsengtw.github.io/posts/453d0377">https://luketsengtw.github.io/posts/453d0377</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版權聲明: </span><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 授權協議。轉載請註明來源 <a href="https://luketsengtw.github.io" target="_blank">Yaoの程式小窩</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/">程式語言</a><a class="post-meta__tags" href="/tags/Lua/">Lua</a></div><div class="post-share"><div class="social-share" data-image="/img/lua_cover.png" data-sites="facebook, twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6"><img class="cover" src="/img/lua_cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">【Lua 筆記】延伸 for 迴圈 - part 6</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】延伸 for 迴圈 - part 6由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 for in 迴圈for 迴圈分為兩類： for do 迴圈 for in do 迴圈 之前我們說的 for 都是 for do 迴圈。 今天來談 for in do 這個迴圈，它主要是用來迭代陣列或表的。可以分別用 ipairs、pairs 進行處理。 迭代陣列值範例來源：【30天Lua重拾筆記13】基礎2: 控制-for迴圈 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 12345array = &#123;&quot;one&quot;, &quot;two&quot;, &quot;three&quot;&#125;for i, v in ipairs(array) do print(i, v)end 輸出結果： 1231 one2...</div></div></div></a><a class="pagination-related" href="/posts/ca9a09b" title="【Lua 筆記】字串（String） - part 8"><img class="cover" src="/img/lua_cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">【Lua 筆記】字串（String） - part 8</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】字串（String） - part 8由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 ※本文篇幅較長，十分複雜，請小心閱讀，請務必收藏！！※ 字串（String）字串（String）是由許多字元（Character）所組成的。 字元（Character）：中文字、英文字母（a-z）、底線等等任何符號皆是一種字元。 字串可以用以下三種方式表示： 成對單引號括起來（’String’） 成對雙引號括起來（”String”） [[ ]] 裡面放字串 -&gt; 多行字串 第三種方式舉例： 123456a = [[Hi, this is a stringaaaaaaaa]]print(a) 輸出結果： 12Hi, this is a stringaaaaaaaa 取得字串長度的另一種方式string.len(裡面放字串)，實際上這個方式與用 # 這個運...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/6d37a3dd" title="【Lua 筆記】陣列 - part 5"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-23</div><div class="info-item-2">【Lua 筆記】陣列 - part 5</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】陣列 - part 5由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 陣列（Array）我們先來看看 Lua 的陣列長怎樣： 1myArray = &#123;10, 20, 30, 40, 50&#125; 陣列（Array），用兩個大括號 &#123;&#125; 將資料圍起來，在 Lua 當中並沒有給它特定的資料型態，而是被一個稱為 table（表）的資料型態所包圍起來。 所以 type(myArray) 輸出結果會是 table： 12myArray = &#123;10, 20, 30, 40, 50&#125;print(type(myArray)) --&gt; table :::danger切記：Lua 的陣列索引從 1 開始。也可以自定義從 0 開始，等下會說怎麼做。::: 回歸到問題本身，各位可能仍然還會疑惑的一點是，陣列到底...</div></div></div></a><a class="pagination-related" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-23</div><div class="info-item-2">【Lua 筆記】延伸 for 迴圈 - part 6</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】延伸 for 迴圈 - part 6由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 for in 迴圈for 迴圈分為兩類： for do 迴圈 for in do 迴圈 之前我們說的 for 都是 for do 迴圈。 今天來談 for in do 這個迴圈，它主要是用來迭代陣列或表的。可以分別用 ipairs、pairs 進行處理。 迭代陣列值範例來源：【30天Lua重拾筆記13】基礎2: 控制-for迴圈 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 12345array = &#123;&quot;one&quot;, &quot;two&quot;, &quot;three&quot;&#125;for i, v in ipairs(array) do print(i, v)end 輸出結果： 1231 one2...</div></div></div></a><a class="pagination-related" href="/posts/bb4e680f" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-01</div><div class="info-item-2">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 小提醒：此為本筆記最後一章，恭喜你可以準備結合CSO的API實作了。 物件導向程式設計（Object Oriented Programming，OOP）物件導向程式設計（Object-Oriented Programming, OOP）是一種程式設計範式，強調使用「物件」來設計軟體和程式碼。物件是具有狀態（屬性）和行為（方法）的實體。OOP 的主要目的是提高程式碼的可重用性、可維護性和可擴展性。 舉個例子：比如我現在正在 coding，用物件導向程式設計的邏輯來看的話，就是如以下表格所示（參考自：何謂物件導向程式設計 - HackMD）： 類別（class） 物件名稱（name） 物件屬性（...</div></div></div></a><a class="pagination-related" href="/posts/82615521" title="【Lua 筆記】數學函式庫 - 番外"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-02</div><div class="info-item-2">【Lua 筆記】數學函式庫 - 番外</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】數學函式庫 - 番外詳情參考自：Lua 5.4 Reference Manual math.abs(x) - 回傳 x 的絕對值。 math.acos(x) - 回傳 x 的反餘弦值（以弧度為單位）。 math.asin(x) - 回傳 x 的反正弦值（以弧度為單位）。 math.atan(x) - 回傳 x 的反正切值（以弧度為單位）。 math.atan2(y, x) - 回傳點 (x, y) 的反正切值（以弧度為單位）。 math.ceil(x) - 回傳不小於 x 的最小整數。（可理解成無條件進位） math.cos(x) - 回傳 x 的餘弦值（x 是以弧度為單位）。 math.cosh(x) - 回傳 x 的雙曲餘弦值。 math.deg(x) - 將角度 x 從弧度轉換為角度。 math.exp(x) - 回傳 e（數學常數） 的 x 次方。 math.floor(x) - 回傳不大於 x 的最大整數。（可理解成無條件退位） math.fmod(x, y) - 回傳 x 除以 y 的餘數。 math.huge - 表示無窮大的值。 math.log...</div></div></div></a><a class="pagination-related" href="/posts/7d9ac874" title="【Lua 筆記】元表（MetaTable） - part 10"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-30</div><div class="info-item-2">【Lua 筆記】元表（MetaTable） - part 10</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】元表（MetaTable） - part 10由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 元表（MetaTable） 在 Lua table 中我們可以存取到對應的 key 來得到 value 值，但是卻無法對兩個 table 進行運算操作（例如相加）。因此 Lua 提供了元表（MetaTable），允許我們改變 table 的行為，每個行為關聯了對應的元方法。 所以元表（MetaTable）可以讓我們針對 table 進行一些運算操作。 而在對 table 跟 table 之間進行運算的時候，Lua 首先會檢查兩者之間是否存在元表這個東西，例如會檢查是否有 __add 存在，找到的話，則其對應的值（往往是一個函數或是 table）就是”元方法”。 有兩個很重要的函數是專門用來處理元表的： setmetatable(table, met...</div></div></div></a><a class="pagination-related" href="/posts/9793b663" title="【Lua 筆記】迴圈 - part 4"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-15</div><div class="info-item-2">【Lua 筆記】迴圈 - part 4</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】迴圈 - part 4由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 迴圈（loop）迴圈即一個循環。 很多時候我們會需要重複執行一個動作，以生活舉例，像是平時上廁所（無論小便、大便）會是一個迴圈，因為這是我們不斷持續在做的事情。又或者是在長跑時，跑了好幾圈操場，這也是一種迴圈。 回到正題，Lua 共支援以下幾種迴圈語法： while for repeat…until break goto while、for 一定是每個程式語言基本配備，接下來讓我們先來看看 while 迴圈： while 迴圈while 是一種具有條件判斷的迴圈，格式如下： 123while (condition) do statementsend 當 condition 這個條件成立，也就是 condition = true 的時候，迴圈才會執行。 至於執行什麼內容呢...</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 評論</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">LukeTseng</div><div class="author-info-description">一個軟硬體都愛的資訊人，也是個無名的程式熱愛者。目前仍主要活躍於 Hackmd 平台上，基本上本站與此同步更新。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">183</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">57</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">22</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/LukeTsengTW"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/LukeTsengTW" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color:#hdhfbb"></i></a><a class="social-icon" href="https://hackmd.io/@LukeTseng" rel="external nofollow noreferrer" target="_blank" title="Hackmd"><i class="fas fa-file-lines" style="color:#4e44fe"></i></a><a class="social-icon" href="https://www.instagram.com/moonouo_" rel="external nofollow noreferrer" target="_blank" title="Instagram"><i class="fab fa-square-instagram" style="color:#dd2a7b"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%80%90Lua-%E7%AD%86%E8%A8%98%E3%80%91%E4%BD%9C%E7%94%A8%E5%9F%9F-%E5%87%BD%E6%95%B8-part-7"><span class="toc-number">1.</span> <span class="toc-text">【Lua 筆記】作用域 &#x2F; 函數 - part 7</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%88scope%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">作用域（scope）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B8%EF%BC%88function%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">函數（function）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B8%E7%95%B6%E4%B8%AD%E7%9A%84%E8%AE%8A%E6%95%B8"><span class="toc-number">3.1.</span> <span class="toc-text">函數當中的變數</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E5%9B%9E%E5%82%B3%E5%80%BC"><span class="toc-number">3.2.</span> <span class="toc-text">多重回傳值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%AE%9A%E9%95%B7%E5%8F%83%E6%95%B8%EF%BC%88%E5%8F%AF%E8%AE%8A%E5%8F%83%E6%95%B8%EF%BC%89"><span class="toc-number">3.3.</span> <span class="toc-text">不定長參數（可變參數）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B8%BD%E7%B5%90"><span class="toc-number">4.</span> <span class="toc-text">總結</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99"><span class="toc-number">5.</span> <span class="toc-text">參考資料</span></a></li></ol></div></div><div class="card-widget card-post-series"><div class="item-headline"><i class="fa-solid fa-layer-group"></i><span>Lua 系列文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/82615521" title="【Lua 筆記】數學函式庫 - 番外"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】數學函式庫 - 番外"></a><div class="content"><a class="title" href="/posts/82615521" title="【Lua 筆記】數學函式庫 - 番外">【Lua 筆記】數學函式庫 - 番外</a><time datetime="2024-07-02T08:04:02.000Z" title="發表於 2024-07-02 16:04:02">2024-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/bb4e680f" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"></a><div class="content"><a class="title" href="/posts/bb4e680f" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</a><time datetime="2024-07-01T07:37:35.000Z" title="發表於 2024-07-01 15:37:35">2024-07-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7d9ac874" title="【Lua 筆記】元表（MetaTable） - part 10"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】元表（MetaTable） - part 10"></a><div class="content"><a class="title" href="/posts/7d9ac874" title="【Lua 筆記】元表（MetaTable） - part 10">【Lua 筆記】元表（MetaTable） - part 10</a><time datetime="2024-06-30T06:00:15.000Z" title="發表於 2024-06-30 14:00:15">2024-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a646f474" title="【Lua 筆記】表（table） - part 9"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】表（table） - part 9"></a><div class="content"><a class="title" href="/posts/a646f474" title="【Lua 筆記】表（table） - part 9">【Lua 筆記】表（table） - part 9</a><time datetime="2024-06-29T14:20:31.000Z" title="發表於 2024-06-29 22:20:31">2024-06-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ca9a09b" title="【Lua 筆記】字串（String） - part 8"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】字串（String） - part 8"></a><div class="content"><a class="title" href="/posts/ca9a09b" title="【Lua 筆記】字串（String） - part 8">【Lua 筆記】字串（String） - part 8</a><time datetime="2024-06-24T11:15:48.000Z" title="發表於 2024-06-24 19:15:48">2024-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/453d0377" title="【Lua 筆記】作用域 / 函數 - part 7"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】作用域 / 函數 - part 7"></a><div class="content"><a class="title" href="/posts/453d0377" title="【Lua 筆記】作用域 / 函數 - part 7">【Lua 筆記】作用域 / 函數 - part 7</a><time datetime="2024-06-23T16:39:58.000Z" title="發表於 2024-06-24 00:39:58">2024-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】延伸 for 迴圈 - part 6"></a><div class="content"><a class="title" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6">【Lua 筆記】延伸 for 迴圈 - part 6</a><time datetime="2024-06-23T07:02:21.000Z" title="發表於 2024-06-23 15:02:21">2024-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/6d37a3dd" title="【Lua 筆記】陣列 - part 5"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】陣列 - part 5"></a><div class="content"><a class="title" href="/posts/6d37a3dd" title="【Lua 筆記】陣列 - part 5">【Lua 筆記】陣列 - part 5</a><time datetime="2024-06-22T16:00:28.000Z" title="發表於 2024-06-23 00:00:28">2024-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/9793b663" title="【Lua 筆記】迴圈 - part 4"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】迴圈 - part 4"></a><div class="content"><a class="title" href="/posts/9793b663" title="【Lua 筆記】迴圈 - part 4">【Lua 筆記】迴圈 - part 4</a><time datetime="2024-06-15T12:45:05.000Z" title="發表於 2024-06-15 20:45:05">2024-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1a93cb3f" title="【Lua 筆記】條件控制 - part 3"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】條件控制 - part 3"></a><div class="content"><a class="title" href="/posts/1a93cb3f" title="【Lua 筆記】條件控制 - part 3">【Lua 筆記】條件控制 - part 3</a><time datetime="2024-06-15T10:33:36.000Z" title="發表於 2024-06-15 18:33:36">2024-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/309a1c3e" title="【Lua 筆記】運算子 - part 2"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】運算子 - part 2"></a><div class="content"><a class="title" href="/posts/309a1c3e" title="【Lua 筆記】運算子 - part 2">【Lua 筆記】運算子 - part 2</a><time datetime="2024-06-15T09:10:50.000Z" title="發表於 2024-06-15 17:10:50">2024-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/29d430c4" title="【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1"></a><div class="content"><a class="title" href="/posts/29d430c4" title="【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1">【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1</a><time datetime="2024-06-15T07:32:39.000Z" title="發表於 2024-06-15 15:32:39">2024-06-15</time></div></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/9e74903a" title="自動機理論（DFA）"><img src="/img/binary.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="自動機理論（DFA）"></a><div class="content"><a class="title" href="/posts/9e74903a" title="自動機理論（DFA）">自動機理論（DFA）</a><time datetime="2025-12-12T14:45:01.000Z" title="發表於 2025-12-12 22:45:01">2025-12-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/f0158ba1" title="【Uva 題庫解題】C++ 個人解題筆記 - part5"><img src="/img/uva_cover.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Uva 題庫解題】C++ 個人解題筆記 - part5"></a><div class="content"><a class="title" href="/posts/f0158ba1" title="【Uva 題庫解題】C++ 個人解題筆記 - part5">【Uva 題庫解題】C++ 個人解題筆記 - part5</a><time datetime="2025-12-10T08:27:27.000Z" title="發表於 2025-12-10 16:27:27">2025-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/950b2a58" title="隨機存取協議：Pure ALOHA、CSMA"><img src="/img/internet.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="隨機存取協議：Pure ALOHA、CSMA"></a><div class="content"><a class="title" href="/posts/950b2a58" title="隨機存取協議：Pure ALOHA、CSMA">隨機存取協議：Pure ALOHA、CSMA</a><time datetime="2025-12-05T14:02:01.000Z" title="發表於 2025-12-05 22:02:01">2025-12-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/52cdaece" title="Switching（交換技術）"><img src="/img/internet.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Switching（交換技術）"></a><div class="content"><a class="title" href="/posts/52cdaece" title="Switching（交換技術）">Switching（交換技術）</a><time datetime="2025-12-04T15:17:32.000Z" title="發表於 2025-12-04 23:17:32">2025-12-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d5e62c57" title="路由器是啥？路由器在幹嘛？一篇文章講清楚！"><img src="/img/internet.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="路由器是啥？路由器在幹嘛？一篇文章講清楚！"></a><div class="content"><a class="title" href="/posts/d5e62c57" title="路由器是啥？路由器在幹嘛？一篇文章講清楚！">路由器是啥？路由器在幹嘛？一篇文章講清楚！</a><time datetime="2025-12-03T15:23:32.000Z" title="發表於 2025-12-03 23:23:32">2025-12-03</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/lua_cover.png)"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2024 - 2025 By LukeTseng</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主題 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="繁簡轉換">繁</button><button id="darkmode" type="button" title="日夜模式切換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往評論"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到頂端"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typesetPromise();else{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"none"},chtml:{scale:1.1},options:{enableMenu:!0,renderActions:{findScript:[10,t=>{for(const e of document.querySelectorAll('script[type^="math/tex"]')){const n=!!e.type.match(/; *mode=display/),a=new t.options.MathItem(e.textContent,t.inputJax[0],n),d=document.createTextNode("");e.parentNode.replaceChild(d,e),a.start={node:d,delim:"",n:0},a.end={node:d,delim:"",n:0},t.math.push(a)}},""]}}};const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js",t.id="MathJax-script",t.async=!0,document.head.appendChild(t)}};btf.addGlobalFn("encrypt",t,"mathjax"),window.pjax?t():window.addEventListener("load",t)})()</script><script>(()=>{let e=window.walineFn||null;const n="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t={lang:"zh-TW",locale:{seconds:"秒前",minutes:"分鐘前",hours:"小時前",days:"天前",now:"剛剛",gif:"表情包",gifSearchPlaceholder:"搜尋 gif 動圖",comment:"留言",placeholder:"歡迎留言，請務必友善發言，減少衝突，讓世界更美好～"},emoji:["https://unpkg.com/@waline/emojis@1.0.1/tw-emoji"]},i=(e,i=document,o=window.location.pathname)=>{const s=e({el:i.querySelector("#waline-wrap"),serverURL:"https://discussion-kohl.vercel.app/",pageview:!0,dark:'html[data-theme="dark"]',comment:!0,...t,path:n?o:t&&t.path||o});n&&(window.shuoshuoComment.destroyWaline=()=>{s.destroy(),i.children.length&&(i.innerHTML="",i.classList.add("no-comment"))})},o=(n,t)=>{e?i(e,n,t):btf.getCSS("https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.css").then(()=>import("https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.js")).then(({init:o})=>{e=o||Waline.init,i(e,n,t),window.walineFn=e})};n?window.shuoshuoComment={loadComment:o}:setTimeout(o,0)})()</script></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜尋</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5BKRW8SL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript></div></body></html>