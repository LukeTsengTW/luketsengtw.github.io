<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>【Lua 筆記】元表（MetaTable） - part 10 | Yaoの程式小窩</title><meta name="author" content="LukeTseng"><meta name="copyright" content="LukeTseng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="【Lua 筆記】元表（MetaTable） - part 10由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 元表（MetaTable） 在 Lua table 中我們可以存取到"><meta property="og:type" content="article"><meta property="og:title" content="【Lua 筆記】元表（MetaTable） - part 10"><meta property="og:url" content="https://luketsengtw.github.io/posts/7d9ac874"><meta property="og:site_name" content="Yaoの程式小窩"><meta property="og:description" content="【Lua 筆記】元表（MetaTable） - part 10由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 元表（MetaTable） 在 Lua table 中我們可以存取到"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://luketsengtw.github.io/img/lua_cover.png"><meta property="article:published_time" content="2024-06-30T06:00:15.000Z"><meta property="article:modified_time" content="2025-08-07T15:41:54.685Z"><meta property="article:author" content="LukeTseng"><meta property="article:tag" content="程式語言"><meta property="article:tag" content="Lua"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://luketsengtw.github.io/img/lua_cover.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【Lua 筆記】元表（MetaTable） - part 10",
  "url": "https://luketsengtw.github.io/posts/7d9ac874",
  "image": "https://luketsengtw.github.io/img/lua_cover.png",
  "datePublished": "2024-06-30T06:00:15.000Z",
  "dateModified": "2025-08-07T15:41:54.685Z",
  "author": [
    {
      "@type": "Person",
      "name": "LukeTseng",
      "url": "https://luketsengtw.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/website_favicon.ico"><link rel="canonical" href="https://luketsengtw.github.io/posts/7d9ac874"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="S50ZW5JR-4iAagicR6omYnAz8LUv5ZcouskPpuBaFBs"><link rel="manifest" href="/img/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=t,btf.activateLightMode=o;const a=e.get("theme");"dark"===a?t():"light"===a&&o();const n=e.get("aside-status");void 0!==n&&document.documentElement.classList.toggle("hide-aside","hide"===n);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-7EES35MTFS"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7EES35MTFS"),btf.addGlobalFn("pjaxComplete",()=>{gtag("config","G-7EES35MTFS",{page_path:window.location.pathname})},"google_analytics")</script><script>!function(e,t,a,n,o){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-5BKRW8SL",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer"),btf.addGlobalFn("pjaxComplete",()=>{dataLayer.push({event:"pjaxComplete",page_title:document.title,page_location:location.href,page_path:window.location.pathname})},"google_tag_manager")</script><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"EF32H7JNEE",apiKey:"876fdde0317458bcae93bc0ded1d7176",indexName:"hexo",hitsPerPage:10,languages:{input_placeholder:"想找些什麼呢...?",hits_empty:"找不到符合您查詢的內容：${query}",hits_stats:"找到 ${hits} 筆結果，耗時 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:1,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!0,highlightMacStyle:!0},copy:{success:"複製成功",error:"複製失敗",noSupport:"瀏覽器不支援"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"剛剛",min:"分鐘前",hour:"小時前",day:"天前",month:"個月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"已切換為繁體中文",cht_to_chs:"已切換為簡體中文",day_to_night:"已切換為深色模式",night_to_day:"已切換為淺色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-left"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"載入更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"【Lua 筆記】元表（MetaTable） - part 10",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Yaoの程式小窩" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">載入中...</div></div></div><script>(()=>{const e=document.getElementById("loading-box"),d=document.body,t=()=>{e.classList.contains("loaded")||(d.style.overflow="",e.classList.add("loaded"))},o=()=>{d.style.overflow="hidden",e.classList.remove("loaded")};o(),"complete"===document.readyState?t():(window.addEventListener("load",t),document.addEventListener("DOMContentLoaded",t),setTimeout(t,7e3))})()</script><div id="web_bg" style="background-image:url(/img/web_background_smaller.jpg)"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">128</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">17</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/lua_cover.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/icon.png" alt="Logo"><span class="site-name">Yaoの程式小窩</span></a><a class="nav-page-title" href="/"><span class="site-name">【Lua 筆記】元表（MetaTable） - part 10</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span> 返回首頁</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜尋</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">【Lua 筆記】元表（MetaTable） - part 10</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2024-06-30T06:00:15.000Z" title="發表於 2024-06-30 14:00:15">2024-06-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2025-08-07T15:41:54.685Z" title="更新於 2025-08-07 23:41:54">2025-08-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/programming/">程式設計</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/programming/lua/">Lua</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">總字數:</span><span class="word-count">2.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀時間:</span><span>9分鐘</span></span><span class="post-meta-separator">|</span><span data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">瀏覽量:</span><span class="waline-pageview-count" data-path="/posts/7d9ac874"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">評論數:</span><a href="/posts/7d9ac874#post-comment"><span class="waline-comment-count" data-path="/posts/7d9ac874"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="【Lua-筆記】元表（MetaTable）-part-10"><a href="#【Lua-筆記】元表（MetaTable）-part-10" class="headerlink" title="【Lua 筆記】元表（MetaTable） - part 10"></a>【Lua 筆記】元表（MetaTable） - part 10</h1><p>由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。</p><p>這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。</p><h1 id="元表（MetaTable）"><a href="#元表（MetaTable）" class="headerlink" title="元表（MetaTable）"></a>元表（MetaTable）</h1><blockquote><p>在 Lua table 中我們可以存取到對應的 key 來得到 value 值，但是卻無法對兩個 table 進行運算操作（例如相加）。因此 Lua 提供了元表（MetaTable），允許我們改變 table 的行為，每個行為關聯了對應的元方法。</p></blockquote><p>所以元表（MetaTable）可以讓我們針對 table 進行一些運算操作。</p><p>而在對 table 跟 table 之間進行運算的時候，Lua 首先會檢查兩者之間是否存在元表這個東西，例如會檢查是否有 <code>__add</code> 存在，找到的話，則其對應的值（往往是一個函數或是 table）就是”元方法”。</p><p>有兩個很重要的函數是專門用來處理元表的：</p><ul><li>setmetatable(table, metatable)：對指定 table 設定元表（metatable），如果元表（metatable）中存在 <code>__metatable</code> 鍵值，setmetatable 會失敗。</li><li>getmetatable(table)：回傳物件的元表（metatable）。</li></ul><p>關於第一個最後面敘述講到為什麼會失敗，在這邊稍微解釋一下：</p><p>當我們用 setmetatable 為一個表設定元表時，如果提供的元表中包含 <code>__metatable</code> 鍵，Lua 會阻止這次操作並回傳錯誤。<em><strong>目的是保護元表不被隨意修改</strong></em>。（類似於不可變物件：immutable object）</p><p>以下是一個範例，有關於設置元表：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mytable = &#123;&#125;                          <span class="comment">-- table</span></span><br><span class="line">mymetatable = &#123;&#125;                      <span class="comment">-- metatable</span></span><br><span class="line"><span class="built_in">setmetatable</span>(mytable, mymetatable)     <span class="comment">-- 把 mymetatable 設為 mytable 的元表</span></span><br></pre></td></tr></table></figure><p>可直接寫成一行：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123;&#125;,&#123;&#125;)</span><br></pre></td></tr></table></figure><h2 id="index-元方法"><a href="#index-元方法" class="headerlink" title="__index 元方法"></a><code>__index</code> 元方法</h2><p><code>__index</code> 是最常用的鍵。</p><blockquote><p>當你透過鍵來存取 table 的時候，如果這個鍵沒有值，那麼 Lua 就會尋找該 table 的metatable（假設有 metatable）中的 <code>__index</code> 鍵。如果 <code>__index</code> 包含一個表，Lua會在 table 中尋找對應的鍵。</p></blockquote><p>什麼意思？如果該鍵在 table 中不存在（即沒有對應的值），Lua 不會立即回傳 nil，而是會檢查這個 table 是否有一個元表（metatable）。如果有，Lua 會在這個元表中尋找一個名為 <code>__index</code> 的鍵。</p><p>以下是來自菜鳥教程的範例（備註：以下範例是在 Shell 當中進行的，請注意）：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ lua</span><br><span class="line">Lua <span class="number">5.3</span><span class="number">.0</span>  Copyright (C) <span class="number">1994</span><span class="number">-2015</span> Lua.org, PUC-Rio</span><br><span class="line">&gt; other = &#123; foo = <span class="number">3</span> &#125; </span><br><span class="line">&gt; t = <span class="built_in">setmetatable</span>(&#123;&#125;, &#123; <span class="built_in">__index</span> = other &#125;) </span><br><span class="line">&gt; t.foo</span><br><span class="line"><span class="number">3</span></span><br><span class="line">&gt; t.bar</span><br><span class="line"><span class="literal">nil</span></span><br></pre></td></tr></table></figure><p>以下是筆者自創範例：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> myTable = &#123;name = <span class="string">&quot;Programming Bot&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 定義一個元表，其中包含 __index 鍵</span></span><br><span class="line"><span class="keyword">local</span> mt = &#123;</span><br><span class="line">  <span class="built_in">__index</span> = <span class="function"><span class="keyword">function</span><span class="params">(table, key)</span></span></span><br><span class="line">    <span class="comment">-- 當存取不存在的鍵時，會呼叫這個函數</span></span><br><span class="line">    <span class="keyword">if</span> key == <span class="string">&quot;age&quot;</span> <span class="keyword">then</span></span><br><span class="line">      <span class="comment">-- 假設我們知道 Programming Bot 的年齡，但沒有直接在 table 中定義</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="comment">-- 其他不存在的鍵，回傳 nil</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 設定 myTable 的元表為 mt</span></span><br><span class="line"><span class="built_in">setmetatable</span>(myTable, mt)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 嘗試存取存在的鍵</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Name: &quot;</span> .. myTable.name)  <span class="comment">-- Name: Programming Bot</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 嘗試存取不存在的鍵，但是由 __index 處理</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Age: &quot;</span> .. myTable.age)    <span class="comment">-- Age: 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 嘗試存取完全不存在的鍵，且 __index 中也沒有處理</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Location: &quot;</span> .. (myTable.location <span class="keyword">or</span> <span class="string">&quot;unknown&quot;</span>))  <span class="comment">-- Location: unknown</span></span><br></pre></td></tr></table></figure><p>:::info<br>Line 27 : print(“Location: “ .. (myTable.location or “unknown”)) – Location: unknown：</p><p>(myTable.location or “unknown”)：在 Lua 中，or 運算子會回傳左側運算元的值，如果左側運算元的值為 false 或 nil，則回傳右側運算元的值。所以如果 myTable.location 為 nil（即 location 鍵不存在或其值為 nil），則運算式的結果為 “unknown”。<br>:::</p><p>以下總結取自<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-metatables.html">Lua 元表(Metatable) | 菜鸟教程</a>，老實講寫的很好：</p><p>Lua 找出一個表中元素時的規則，其實就是如下 3 個步驟：</p><ol><li>在表中查找，如果找到，回傳該元素，找不到則繼續。</li><li>判斷該表是否有元表，如果沒有元表，回傳 nil，有元表則繼續。</li><li>判斷元表有沒有 <code>__index</code> 方法，如果 <code>__index</code> 方法為 nil，則回傳 nil；如果 <code>__index</code> 方法是一個表，則重複 1、2、3 步驟；如果__index 方法是一個函數，則回傳該函數的回傳值。</li></ol><h2 id="newindex-元方法"><a href="#newindex-元方法" class="headerlink" title="__newindex 元方法"></a><code>__newindex</code> 元方法</h2><p><code>__newindex</code> 元方法用來對表進行更新，<code>__index</code> 則用來對表進行存取 。</p><blockquote><p>當你給表的一個缺少的索引賦值，解釋器就會找 <code>__newindex</code> 元方法：如果存在則呼叫這個函數而不進行賦值操作。</p></blockquote><p>以下是一個範例：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> myTable = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> mt = &#123;</span><br><span class="line">    <span class="comment">-- __newindex元方法用於處理對缺少的索引的更新</span></span><br><span class="line">    <span class="built_in">__newindex</span> = <span class="function"><span class="keyword">function</span><span class="params">(table, key, value)</span></span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;嘗試更新不存在的鍵：&quot;</span> .. key .. <span class="string">&quot;，將其設定為：&quot;</span> .. <span class="built_in">tostring</span>(value))</span><br><span class="line">        <span class="comment">-- 如果要實際進行賦值，可以這樣做：</span></span><br><span class="line">        <span class="built_in">rawset</span>(<span class="built_in">table</span>, key, value) <span class="comment">-- 使用rawset來避免再次觸發__newindex</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setmetatable</span>(myTable, mt)</span><br><span class="line"></span><br><span class="line">myTable.someKey = <span class="string">&quot;someKey&quot;</span> <span class="comment">-- 觸發 __newindex 元方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 存取剛剛更新的鍵</span></span><br><span class="line"><span class="built_in">print</span>(myTable.someKey) <span class="comment">-- someKey</span></span><br></pre></td></tr></table></figure><p>輸出結果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">嘗試更新不存在的鍵：someKey，將其設定為：someKey</span><br><span class="line">someKey</span><br></pre></td></tr></table></figure><p>:::info<br>rawset(table, key, value)：</p><ul><li>table：要修改的表。</li><li>key：要修改的鍵（索引）。</li><li>value：要設定的值。</li></ul><p>rawset 是 Lua 中的一個函數，它用於直接對 table 進行賦值運算，不觸發任何元方法（如__newindex）。這函數的作用是在特定情況下，允許我們直接繞過 Lua 的元方法機制，直接修改 table 的內容。<br>:::</p><h2 id="運算型元方法"><a href="#運算型元方法" class="headerlink" title="運算型元方法"></a>運算型元方法</h2><p>表格來源 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-metatables.html">Lua 元表(Metatable) | 菜鸟教程</a>：</p><table><thead><tr><th>鍵</th><th>描述</th></tr></thead><tbody><tr><td><code>__add</code></td><td>對應運算子”+”</td></tr><tr><td><code>__sub</code></td><td>對應運算子”-“（做二元減法運算，兩數相減）</td></tr><tr><td><code>__mul</code></td><td>對應運算子”*”</td></tr><tr><td><code>__div</code></td><td>對應運算子”&#x2F;“</td></tr><tr><td><code>__mod</code></td><td>對應運算子”%”</td></tr><tr><td><code>__unm</code></td><td>對應運算子”-“（做一元減法運算，當作負號）</td></tr><tr><td><code>__concat</code></td><td>對應運算子 ‘..’</td></tr><tr><td><code>__eq</code></td><td>對應運算子”&#x3D;&#x3D;”</td></tr><tr><td><code>__lt</code></td><td>對應運算子”&lt;”</td></tr><tr><td><code>__le</code></td><td>對應運算子”&lt;&#x3D;”</td></tr></tbody></table><p>以下是個範例：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">table_maxn</span><span class="params">(t)</span></span></span><br><span class="line">    <span class="keyword">local</span> mn = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(t) <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">if</span> mn &lt; k <span class="keyword">then</span></span><br><span class="line">            mn = k</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> mn</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;, &#123;</span><br><span class="line">    <span class="built_in">__add</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable, newtable)</span></span></span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(newtable) <span class="keyword">do</span></span><br><span class="line">            <span class="built_in">table</span>.<span class="built_in">insert</span>(mytable, table_maxn(mytable) + <span class="number">1</span>, newtable[i])</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> mytable</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="built_in">__sub</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable, newtable)</span></span></span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(newtable) <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">for</span> j = <span class="number">1</span>, table_maxn(mytable) <span class="keyword">do</span></span><br><span class="line">                <span class="keyword">if</span> mytable[j] == newtable[i] <span class="keyword">then</span></span><br><span class="line">                    <span class="built_in">table</span>.<span class="built_in">remove</span>(mytable, j)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> mytable</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="built_in">__mul</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable, newtable)</span></span></span><br><span class="line">        <span class="keyword">local</span> result = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(mytable) <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">for</span> j = <span class="number">1</span>, table_maxn(newtable) <span class="keyword">do</span></span><br><span class="line">                <span class="built_in">table</span>.<span class="built_in">insert</span>(result, mytable[i] * newtable[j])</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="built_in">__div</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable, newtable)</span></span></span><br><span class="line">        <span class="keyword">local</span> result = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(mytable) <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">for</span> j = <span class="number">1</span>, table_maxn(newtable) <span class="keyword">do</span></span><br><span class="line">                <span class="built_in">table</span>.<span class="built_in">insert</span>(result, mytable[i] / newtable[j])</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="built_in">__mod</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable, newtable)</span></span></span><br><span class="line">        <span class="keyword">local</span> result = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(mytable) <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">for</span> j = <span class="number">1</span>, table_maxn(newtable) <span class="keyword">do</span></span><br><span class="line">                <span class="built_in">table</span>.<span class="built_in">insert</span>(result, mytable[i] % newtable[j])</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    <span class="built_in">__unm</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable)</span></span></span><br><span class="line">        <span class="keyword">local</span> result = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(mytable) <span class="keyword">do</span></span><br><span class="line">            <span class="built_in">table</span>.<span class="built_in">insert</span>(result, -mytable[i])</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable = mytable + secondtable&quot;</span>)</span><br><span class="line"></span><br><span class="line">secondtable = &#123; <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> &#125;</span><br><span class="line"></span><br><span class="line">mytable = mytable + secondtable</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">ipairs</span>(mytable) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;--------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable = mytable - secondtable&quot;</span>)</span><br><span class="line"></span><br><span class="line">thirdtable = &#123; <span class="number">2</span>, <span class="number">4</span> &#125;</span><br><span class="line"></span><br><span class="line">mytable = mytable - thirdtable</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">ipairs</span>(mytable) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;--------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable * secondtable&quot;</span>)</span><br><span class="line"></span><br><span class="line">result = mytable * secondtable</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">ipairs</span>(result) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;--------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable / secondtable&quot;</span>)</span><br><span class="line"></span><br><span class="line">result = mytable / secondtable</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">ipairs</span>(result) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;--------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable % secondtable&quot;</span>)</span><br><span class="line"></span><br><span class="line">result = mytable % secondtable</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">ipairs</span>(result) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;--------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-mytable&quot;</span>)</span><br><span class="line"></span><br><span class="line">result = -mytable</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">ipairs</span>(result) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="call-元方法"><a href="#call-元方法" class="headerlink" title="__call 元方法"></a><code>__call</code> 元方法</h2><p><code>__call</code> 元方法：允許定義一個 table 在被當作函數呼叫時的行為。表示能讓一個 table 像函數一樣被呼叫，並且可以自訂在被呼叫時應該做什麼。（總之就是讓表變成函數那般作用）</p><p>以下是一個範例（來自菜鳥教程）：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">table_maxn</span><span class="params">(t)</span></span></span><br><span class="line">    <span class="keyword">local</span> mn = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(t) <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">if</span> mn &lt; k <span class="keyword">then</span></span><br><span class="line">            mn = k</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> mn</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123; <span class="number">10</span> &#125;, &#123;</span><br><span class="line">    <span class="built_in">__call</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable, newtable)</span></span></span><br><span class="line">        sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(mytable) <span class="keyword">do</span></span><br><span class="line">            sum = sum + mytable[i]</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(newtable) <span class="keyword">do</span></span><br><span class="line">            sum = sum + newtable[i]</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> sum</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">newtable = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(mytable(newtable)) <span class="comment">-- 把表當作函數呼叫</span></span><br></pre></td></tr></table></figure><p>輸出結果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">70</span><br></pre></td></tr></table></figure><p>這支程式碼主要是用作於兩表之間的值進行相加。</p><h2 id="tostring-元方法"><a href="#tostring-元方法" class="headerlink" title="__tostring 元方法"></a><code>__tostring</code> 元方法</h2><p><code>__tostring</code> 元方法：用於定義當一個 table 被轉換為字串時的行為。總之就是修改 table 的輸出行為，<code>__tostring</code> 必定回傳字串。</p><p>以下是一個範例（來自菜鳥教程）：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span> &#125;, &#123;</span><br><span class="line">    <span class="built_in">__tostring</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable)</span></span></span><br><span class="line">        sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(mytable) <span class="keyword">do</span></span><br><span class="line">            sum = sum + v</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;表所有的元素和為 &quot;</span> .. sum</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">print</span>(mytable)</span><br></pre></td></tr></table></figure><p>輸出結果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">表所有的元素和為 60</span><br></pre></td></tr></table></figure><h1 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h1><p>元表（MetaTable）可以讓我們針對 table 進行一些運算操作。</p><p>而在對 table 跟 table 之間進行運算的時候，Lua 首先會檢查兩者之間是否存在元表這個東西，例如會檢查是否有 <code>__add</code> 存在，找到的話，則其對應的值（往往是一個函數或是 table）就是”元方法”。</p><p>有兩個很重要的函數是專門用來處理元表的：</p><ul><li>setmetatable(table, metatable)：對指定 table 設定元表（metatable），如果元表（metatable）中存在 <code>__metatable</code> 鍵值，setmetatable 會失敗。</li><li>getmetatable(table)：回傳物件的元表（metatable）。</li></ul><p>關於第一個最後面敘述講到為什麼會失敗，在這邊稍微解釋一下：</p><p>當我們用 setmetatable 為一個表設定元表時，如果提供的元表中包含 <code>__metatable</code> 鍵，Lua 會阻止這次操作並回傳錯誤。<em><strong>目的是保護元表不被隨意修改</strong></em>。（類似於不可變物件：immutable object）</p><p><code>__index</code> 是最常用的鍵。主要功用是用於 table 的查找（存取 table）跟指定預設值。</p><p><code>__newindex</code> 用於對 table 進行更新。</p><h3 id="運算型元方法："><a href="#運算型元方法：" class="headerlink" title="運算型元方法："></a>運算型元方法：</h3><table><thead><tr><th>鍵</th><th>描述</th></tr></thead><tbody><tr><td><code>__add</code></td><td>對應運算子”+”</td></tr><tr><td><code>__sub</code></td><td>對應運算子”-“（做二元減法運算，兩數相減）</td></tr><tr><td><code>__mul</code></td><td>對應運算子”*”</td></tr><tr><td><code>__div</code></td><td>對應運算子”&#x2F;“</td></tr><tr><td><code>__mod</code></td><td>對應運算子”%”</td></tr><tr><td><code>__unm</code></td><td>對應運算子”-“（做一元減法運算，當作負號）</td></tr><tr><td><code>__concat</code></td><td>對應運算子 ‘..’</td></tr><tr><td><code>__eq</code></td><td>對應運算子”&#x3D;&#x3D;”</td></tr><tr><td><code>__lt</code></td><td>對應運算子”&lt;”</td></tr><tr><td><code>__le</code></td><td>對應運算子”&lt;&#x3D;”</td></tr></tbody></table><p><code>__call</code> 將表變成函數使用。</p><p><code>__tostring</code> 回傳值必須是字串。</p><h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.lagagain.com/post/30%E5%A4%A9lua%E9%87%8D%E6%8B%BE%E7%AD%86%E8%A8%9828meta-programming/">【30天Lua重拾筆記28】進階議題: Meta Programming | 又LAG隨性筆記</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://keviner2004.gitbooks.io/lua-basic/content/metatables-metamethods/">元表與元方法 (Metatables and metamethods) · Lua 基礎</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tutorialspoint.com/lua/lua_metatables.htm">Lua - Metatables</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-metatables.html">Lua 元表(Metatable) | 菜鸟教程</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://luketsengtw.github.io">LukeTseng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章連結: </span><span class="post-copyright-info"><a href="https://luketsengtw.github.io/posts/7d9ac874">https://luketsengtw.github.io/posts/7d9ac874</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版權聲明: </span><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 授權協議。轉載請註明來源 <a href="https://luketsengtw.github.io" target="_blank">Yaoの程式小窩</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/">程式語言</a><a class="post-meta__tags" href="/tags/Lua/">Lua</a></div><div class="post-share"><div class="social-share" data-image="/img/lua_cover.png" data-sites="facebook, twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/a646f474" title="【Lua 筆記】表（table） - part 9"><img class="cover" src="/img/lua_cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">【Lua 筆記】表（table） - part 9</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】表（table） - part 9由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 表（Table）Lua 中的表（table）是一種很強很好用的資料結構，主要有以下幾個特點： Dynamic：table 可以動態地新增或刪除項目（item），無需事先宣告 table 的大小。這讓 table 非常靈活，可以用於各種資料結構，如陣列、字典等。 Key &#x2F; Value（鍵值對）：table 中的資料是以鍵值對的形式進行儲存的。鍵（key）可以是任意型態的值（除了 nil），包括數字、字串或者 table 本身等。值（value）也可以是任意型態的。 Difference：表中可以同時儲存不同型態的值，表示在同一個 table 中可以同時有整數、字串、函數等不同型態的資料。 Index：Lua 中的 table 索引（index）可以是整數...</div></div></div></a><a class="pagination-related" href="/posts/bb4e680f" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"><img class="cover" src="/img/lua_cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 小提醒：此為本筆記最後一章，恭喜你可以準備結合CSO的API實作了。 物件導向程式設計（Object Oriented Programming，OOP）物件導向程式設計（Object-Oriented Programming, OOP）是一種程式設計範式，強調使用「物件」來設計軟體和程式碼。物件是具有狀態（屬性）和行為（方法）的實體。OOP 的主要目的是提高程式碼的可重用性、可維護性和可擴展性。 舉個例子：比如我現在正在 coding，用物件導向程式設計的邏輯來看的話，就是如以下表格所示（參考自：何謂物件導向程式設計 - HackMD）： 類別（class） 物件名稱（name） 物件屬性（p...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/bb4e680f" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-01</div><div class="info-item-2">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 小提醒：此為本筆記最後一章，恭喜你可以準備結合CSO的API實作了。 物件導向程式設計（Object Oriented Programming，OOP）物件導向程式設計（Object-Oriented Programming, OOP）是一種程式設計範式，強調使用「物件」來設計軟體和程式碼。物件是具有狀態（屬性）和行為（方法）的實體。OOP 的主要目的是提高程式碼的可重用性、可維護性和可擴展性。 舉個例子：比如我現在正在 coding，用物件導向程式設計的邏輯來看的話，就是如以下表格所示（參考自：何謂物件導向程式設計 - HackMD）： 類別（class） 物件名稱（name） 物件屬性（p...</div></div></div></a><a class="pagination-related" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-23</div><div class="info-item-2">【Lua 筆記】延伸 for 迴圈 - part 6</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】延伸 for 迴圈 - part 6由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 for in 迴圈for 迴圈分為兩類： for do 迴圈 for in do 迴圈 之前我們說的 for 都是 for do 迴圈。 今天來談 for in do 這個迴圈，它主要是用來迭代陣列或表的。可以分別用 ipairs、pairs 進行處理。 迭代陣列值範例來源：【30天Lua重拾筆記13】基礎2: 控制-for迴圈 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 12345array = &#123;&quot;one&quot;, &quot;two&quot;, &quot;three&quot;&#125;for i, v in ipairs(array) do print(i, v)end 輸出結果： 1231 one...</div></div></div></a><a class="pagination-related" href="/posts/6d37a3dd" title="【Lua 筆記】陣列 - part 5"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-23</div><div class="info-item-2">【Lua 筆記】陣列 - part 5</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】陣列 - part 5由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 陣列（Array）我們先來看看 Lua 的陣列長怎樣： 1myArray = &#123;10, 20, 30, 40, 50&#125; 陣列（Array），用兩個大括號 &#123;&#125; 將資料圍起來，在 Lua 當中並沒有給它特定的資料型態，而是被一個稱為 table（表）的資料型態所包圍起來。 所以 type(myArray) 輸出結果會是 table： 12myArray = &#123;10, 20, 30, 40, 50&#125;print(type(myArray)) --&gt; table :::danger切記：Lua 的陣列索引從 1 開始。也可以自定義從 0 開始，等下會說怎麼做。::: 回歸到問題本身，各位可能仍然還會疑惑的一點是，陣列...</div></div></div></a><a class="pagination-related" href="/posts/29d430c4" title="【Lua 筆記】簡介 &#x2F; 基本語法及資料型態 &#x2F; 變數 - part 1"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-15</div><div class="info-item-2">【Lua 筆記】簡介 &#x2F; 基本語法及資料型態 &#x2F; 變數 - part 1</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】簡介 &#x2F; 基本語法及資料型態 &#x2F; 變數 - part 1由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 簡介（Introduction） Lua（葡萄牙語「月亮」）是一個簡潔、輕量、可擴充的手稿語言。Lua有著相對簡單的C語言API而很容易嵌入應用中。很多應用程式使用Lua作為自己的嵌入式手稿語言，以此來實現可組態性、可擴充性。 - Wekipedia Lua 建立日期：1993年。by 羅伯托·耶魯薩林斯希、Luiz Henrique de Figueiredo、Waldemar Celes 特性： Lua 是一種輕量語言，它的官方版本只包括一個精簡的核心和最基本的函式庫。這使得Lua體積小、啟動速度快。它用 ANSI C 語言編寫，並以原始碼形式開放，編譯後的完整參考直譯器只有大約247kB，到5.4.3版本，該體積變...</div></div></div></a><a class="pagination-related" href="/posts/309a1c3e" title="【Lua 筆記】運算子 - part 2"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-15</div><div class="info-item-2">【Lua 筆記】運算子 - part 2</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】運算子 - part 2由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 運算子（Operator）運算子（Operator），是用來告訴直譯器來執行特定的數學或邏輯運算之符號。Lua 共有以下這幾種運算子： 算術運算子（Arithmetic Operator） 關係運算子（Relational Operator） 邏輯運算子（Logical Operator） 運算子，筆者用一個簡單的例子來讓你理解： 1 + 1 1 被稱為是運算元（operand），是要拿來被運算的單元。 ＋ 被稱為運算子（operator），在上述例子中是拿來當作數學運算的符號。 1 + 1，整體被稱為是一種運算式（expression），運算式就是運算元+運算子，而運算式也有人叫做表達式，都可以。 算術運算子（Arithmetic Operator）簡單來說，算術運算子...</div></div></div></a><a class="pagination-related" href="/posts/453d0377" title="【Lua 筆記】作用域 &#x2F; 函數 - part 7"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-24</div><div class="info-item-2">【Lua 筆記】作用域 &#x2F; 函數 - part 7</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】作用域 &#x2F; 函數 - part 7由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 作用域（scope）作用域（scope），表示一個變數或函數等能夠作用的範圍，什麼意思呢？請看以下例子： 12a = 10 -- 這是全域變數local a = 50 -- 這是局域變數 lua 當中的變數，沒有在前面加上 local 以外，全部都是「全域變數」，你可以把全域變數想像成是一個到哪裡都可以用的變數。 局域變數就只限縮於”目前”的範圍，什麼意思呢？也就是在變數前面宣告了 local 這個關鍵字，就只有這整個文件可以用這個變數而已，其他的文件不能存取到它的值。（這只是粗淺的解釋，實際上看的是他目前所在的作用域範圍） 具體是何種”目前”的範圍，我們在說明函數的時候稍待說明一下。 函數（function）函數（function），又被稱為副程式、函...</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 評論</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">LukeTseng</div><div class="author-info-description">一個軟硬體都愛的資訊人，也是個無名的程式熱愛者。目前仍主要活躍於 Hackmd 平台上，基本上本站與此同步更新。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">128</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/LukeTsengTW"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/LukeTsengTW" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color:#hdhfbb"></i></a><a class="social-icon" href="https://hackmd.io/@LukeTseng" rel="external nofollow noreferrer" target="_blank" title="Hackmd"><i class="fas fa-file-lines" style="color:#4e44fe"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%80%90Lua-%E7%AD%86%E8%A8%98%E3%80%91%E5%85%83%E8%A1%A8%EF%BC%88MetaTable%EF%BC%89-part-10"><span class="toc-number">1.</span> <span class="toc-text">【Lua 筆記】元表（MetaTable） - part 10</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%83%E8%A1%A8%EF%BC%88MetaTable%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">元表（MetaTable）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#index-%E5%85%83%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.</span> <span class="toc-text">__index 元方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#newindex-%E5%85%83%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.</span> <span class="toc-text">__newindex 元方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%8B%E7%AE%97%E5%9E%8B%E5%85%83%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.</span> <span class="toc-text">運算型元方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#call-%E5%85%83%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.</span> <span class="toc-text">__call 元方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tostring-%E5%85%83%E6%96%B9%E6%B3%95"><span class="toc-number">2.5.</span> <span class="toc-text">__tostring 元方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B8%BD%E7%B5%90"><span class="toc-number">3.</span> <span class="toc-text">總結</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8B%E7%AE%97%E5%9E%8B%E5%85%83%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">3.0.1.</span> <span class="toc-text">運算型元方法：</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99"><span class="toc-number">4.</span> <span class="toc-text">參考資料</span></a></li></div></div><div class="card-widget card-post-series"><div class="item-headline"><i class="fa-solid fa-layer-group"></i><span>Lua 系列文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/82615521" title="【Lua 筆記】數學函式庫 - 番外"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】數學函式庫 - 番外"></a><div class="content"><a class="title" href="/posts/82615521" title="【Lua 筆記】數學函式庫 - 番外">【Lua 筆記】數學函式庫 - 番外</a><time datetime="2024-07-02T08:04:02.000Z" title="發表於 2024-07-02 16:04:02">2024-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/bb4e680f" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"></a><div class="content"><a class="title" href="/posts/bb4e680f" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</a><time datetime="2024-07-01T07:37:35.000Z" title="發表於 2024-07-01 15:37:35">2024-07-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7d9ac874" title="【Lua 筆記】元表（MetaTable） - part 10"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】元表（MetaTable） - part 10"></a><div class="content"><a class="title" href="/posts/7d9ac874" title="【Lua 筆記】元表（MetaTable） - part 10">【Lua 筆記】元表（MetaTable） - part 10</a><time datetime="2024-06-30T06:00:15.000Z" title="發表於 2024-06-30 14:00:15">2024-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a646f474" title="【Lua 筆記】表（table） - part 9"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】表（table） - part 9"></a><div class="content"><a class="title" href="/posts/a646f474" title="【Lua 筆記】表（table） - part 9">【Lua 筆記】表（table） - part 9</a><time datetime="2024-06-29T14:20:31.000Z" title="發表於 2024-06-29 22:20:31">2024-06-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ca9a09b" title="【Lua 筆記】字串（String） - part 8"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】字串（String） - part 8"></a><div class="content"><a class="title" href="/posts/ca9a09b" title="【Lua 筆記】字串（String） - part 8">【Lua 筆記】字串（String） - part 8</a><time datetime="2024-06-24T11:15:48.000Z" title="發表於 2024-06-24 19:15:48">2024-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/453d0377" title="【Lua 筆記】作用域 / 函數 - part 7"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】作用域 / 函數 - part 7"></a><div class="content"><a class="title" href="/posts/453d0377" title="【Lua 筆記】作用域 / 函數 - part 7">【Lua 筆記】作用域 / 函數 - part 7</a><time datetime="2024-06-23T16:39:58.000Z" title="發表於 2024-06-24 00:39:58">2024-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】延伸 for 迴圈 - part 6"></a><div class="content"><a class="title" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6">【Lua 筆記】延伸 for 迴圈 - part 6</a><time datetime="2024-06-23T07:02:21.000Z" title="發表於 2024-06-23 15:02:21">2024-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/6d37a3dd" title="【Lua 筆記】陣列 - part 5"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】陣列 - part 5"></a><div class="content"><a class="title" href="/posts/6d37a3dd" title="【Lua 筆記】陣列 - part 5">【Lua 筆記】陣列 - part 5</a><time datetime="2024-06-22T16:00:28.000Z" title="發表於 2024-06-23 00:00:28">2024-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/9793b663" title="【Lua 筆記】迴圈 - part 4"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】迴圈 - part 4"></a><div class="content"><a class="title" href="/posts/9793b663" title="【Lua 筆記】迴圈 - part 4">【Lua 筆記】迴圈 - part 4</a><time datetime="2024-06-15T12:45:05.000Z" title="發表於 2024-06-15 20:45:05">2024-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1a93cb3f" title="【Lua 筆記】條件控制 - part 3"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】條件控制 - part 3"></a><div class="content"><a class="title" href="/posts/1a93cb3f" title="【Lua 筆記】條件控制 - part 3">【Lua 筆記】條件控制 - part 3</a><time datetime="2024-06-15T10:33:36.000Z" title="發表於 2024-06-15 18:33:36">2024-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/309a1c3e" title="【Lua 筆記】運算子 - part 2"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】運算子 - part 2"></a><div class="content"><a class="title" href="/posts/309a1c3e" title="【Lua 筆記】運算子 - part 2">【Lua 筆記】運算子 - part 2</a><time datetime="2024-06-15T09:10:50.000Z" title="發表於 2024-06-15 17:10:50">2024-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/29d430c4" title="【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1"></a><div class="content"><a class="title" href="/posts/29d430c4" title="【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1">【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1</a><time datetime="2024-06-15T07:32:39.000Z" title="發表於 2024-06-15 15:32:39">2024-06-15</time></div></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/79f429f" title="【C++】競程筆記（分治法 D&amp;C）"><img src="/img/cpp_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【C++】競程筆記（分治法 D&amp;C）"></a><div class="content"><a class="title" href="/posts/79f429f" title="【C++】競程筆記（分治法 D&amp;C）">【C++】競程筆記（分治法 D&amp;C）</a><time datetime="2025-08-25T08:05:27.000Z" title="發表於 2025-08-25 16:05:27">2025-08-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/94958656" title="【CSS 筆記】從零開始的 CSS - part 1"><img src="/img/css_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【CSS 筆記】從零開始的 CSS - part 1"></a><div class="content"><a class="title" href="/posts/94958656" title="【CSS 筆記】從零開始的 CSS - part 1">【CSS 筆記】從零開始的 CSS - part 1</a><time datetime="2025-08-19T05:22:33.000Z" title="發表於 2025-08-19 13:22:33">2025-08-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/53e19691" title="【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 5"><img src="/img/uva_cover.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 5"></a><div class="content"><a class="title" href="/posts/53e19691" title="【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 5">【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 5</a><time datetime="2025-08-06T13:58:31.000Z" title="發表於 2025-08-06 21:58:31">2025-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/24e6a607" title="【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 4"><img src="/img/uva_cover.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 4"></a><div class="content"><a class="title" href="/posts/24e6a607" title="【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 4">【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 4</a><time datetime="2025-07-25T15:05:15.000Z" title="發表於 2025-07-25 23:05:15">2025-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ba8233a4" title="【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 3"><img src="/img/uva_cover.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 3"></a><div class="content"><a class="title" href="/posts/ba8233a4" title="【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 3">【Uva 題庫解題】C++ 個人解題筆記（一顆星選集） - part 3</a><time datetime="2025-07-21T15:54:57.000Z" title="發表於 2025-07-21 23:54:57">2025-07-21</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/lua_cover.png)"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2024 - 2025 By LukeTseng</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主題 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="繁簡轉換">繁</button><button id="darkmode" type="button" title="日夜模式切換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往評論"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到頂端"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typesetPromise();else{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"none"},chtml:{scale:1.1},options:{enableMenu:!0,renderActions:{findScript:[10,t=>{for(const e of document.querySelectorAll('script[type^="math/tex"]')){const n=!!e.type.match(/; *mode=display/),a=new t.options.MathItem(e.textContent,t.inputJax[0],n),d=document.createTextNode("");e.parentNode.replaceChild(d,e),a.start={node:d,delim:"",n:0},a.end={node:d,delim:"",n:0},t.math.push(a)}},""]}}};const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js",t.id="MathJax-script",t.async=!0,document.head.appendChild(t)}};btf.addGlobalFn("encrypt",t,"mathjax"),window.pjax?t():window.addEventListener("load",t)})()</script><script>(()=>{let e=window.walineFn||null;const n="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t={lang:"zh-TW",locale:{seconds:"秒前",minutes:"分鐘前",hours:"小時前",days:"天前",now:"剛剛",gif:"表情包",gifSearchPlaceholder:"搜尋 gif 動圖",comment:"留言",placeholder:"歡迎留言，請務必友善發言，減少衝突，讓世界更美好～"},emoji:["https://unpkg.com/@waline/emojis@1.0.1/tw-emoji"]},i=(e,i=document,o=window.location.pathname)=>{const s=e({el:i.querySelector("#waline-wrap"),serverURL:"https://discussion-kohl.vercel.app/",pageview:!0,dark:'html[data-theme="dark"]',comment:!0,...t,path:n?o:t&&t.path||o});n&&(window.shuoshuoComment.destroyWaline=()=>{s.destroy(),i.children.length&&(i.innerHTML="",i.classList.add("no-comment"))})},o=(n,t)=>{e?i(e,n,t):btf.getCSS("https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.css").then(()=>import("https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.js")).then(({init:o})=>{e=o||Waline.init,i(e,n,t),window.walineFn=e})};n?window.shuoshuoComment={loadComment:o}:setTimeout(o,0)})()</script></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜尋</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5BKRW8SL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript></div></body></html>