<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11 | Yaoの程式小窩</title><meta name="author" content="LukeTseng"><meta name="copyright" content="LukeTseng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 小提醒：此為"><meta property="og:type" content="article"><meta property="og:title" content="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"><meta property="og:url" content="https://luketsengtw.github.io/posts/bb4e680f"><meta property="og:site_name" content="Yaoの程式小窩"><meta property="og:description" content="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 小提醒：此為"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://luketsengtw.github.io/img/lua_cover.png"><meta property="article:published_time" content="2024-07-01T07:37:35.000Z"><meta property="article:modified_time" content="2025-08-07T15:41:54.681Z"><meta property="article:author" content="LukeTseng"><meta property="article:tag" content="程式語言"><meta property="article:tag" content="Lua"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://luketsengtw.github.io/img/lua_cover.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11",
  "url": "https://luketsengtw.github.io/posts/bb4e680f",
  "image": "https://luketsengtw.github.io/img/lua_cover.png",
  "datePublished": "2024-07-01T07:37:35.000Z",
  "dateModified": "2025-08-07T15:41:54.681Z",
  "author": [
    {
      "@type": "Person",
      "name": "LukeTseng",
      "url": "https://luketsengtw.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/website_favicon.ico"><link rel="canonical" href="https://luketsengtw.github.io/posts/bb4e680f"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="S50ZW5JR-4iAagicR6omYnAz8LUv5ZcouskPpuBaFBs"><link rel="manifest" href="/img/pwa/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=t,btf.activateLightMode=o;const a=e.get("theme");"dark"===a?t():"light"===a&&o();const n=e.get("aside-status");void 0!==n&&document.documentElement.classList.toggle("hide-aside","hide"===n);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-7EES35MTFS"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7EES35MTFS"),btf.addGlobalFn("pjaxComplete",()=>{gtag("config","G-7EES35MTFS",{page_path:window.location.pathname})},"google_analytics")</script><script>!function(e,t,a,n,o){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-5BKRW8SL",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer"),btf.addGlobalFn("pjaxComplete",()=>{dataLayer.push({event:"pjaxComplete",page_title:document.title,page_location:location.href,page_path:window.location.pathname})},"google_tag_manager")</script><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"EF32H7JNEE",apiKey:"876fdde0317458bcae93bc0ded1d7176",indexName:"hexo",hitsPerPage:10,languages:{input_placeholder:"想找些什麼呢...?",hits_empty:"找不到符合您查詢的內容：${query}",hits_stats:"找到 ${hits} 筆結果，耗時 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:1,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!0,highlightMacStyle:!0},copy:{success:"複製成功",error:"複製失敗",noSupport:"瀏覽器不支援"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"剛剛",min:"分鐘前",hour:"小時前",day:"天前",month:"個月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"已切換為繁體中文",cht_to_chs:"已切換為簡體中文",day_to_night:"已切換為深色模式",night_to_day:"已切換為淺色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-left"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"載入更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Yaoの程式小窩" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">載入中...</div></div></div><script>(()=>{const e=document.getElementById("loading-box"),d=document.body,t=()=>{e.classList.contains("loaded")||(d.style.overflow="",e.classList.add("loaded"))},o=()=>{d.style.overflow="hidden",e.classList.remove("loaded")};o(),"complete"===document.readyState?t():(window.addEventListener("load",t),document.addEventListener("DOMContentLoaded",t),setTimeout(t,7e3))})()</script><div id="web_bg" style="background-image:url(/img/web_background_smaller.jpg)"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">136</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">44</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">18</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/lua_cover.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/icon.png" alt="Logo"><span class="site-name">Yaoの程式小窩</span></a><a class="nav-page-title" href="/"><span class="site-name">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span> 返回首頁</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜尋</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2024-07-01T07:37:35.000Z" title="發表於 2024-07-01 15:37:35">2024-07-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2025-08-07T15:41:54.681Z" title="更新於 2025-08-07 23:41:54">2025-08-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/programming/">程式設計</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/programming/lua/">Lua</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">總字數:</span><span class="word-count">2.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀時間:</span><span>7分鐘</span></span><span class="post-meta-separator">|</span><span data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">瀏覽量:</span><span class="waline-pageview-count" data-path="/posts/bb4e680f"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">評論數:</span><a href="/posts/bb4e680f#post-comment"><span class="waline-comment-count" data-path="/posts/bb4e680f"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="【Lua-筆記】物件導向程式設計（Object-Oriented-Programming，OOP）-part-11"><a href="#【Lua-筆記】物件導向程式設計（Object-Oriented-Programming，OOP）-part-11" class="headerlink" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"></a>【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</h1><p>由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。</p><p>這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。</p><p>小提醒：此為本筆記最後一章，恭喜你可以準備結合CSO的API實作了。</p><h1 id="物件導向程式設計（Object-Oriented-Programming，OOP）"><a href="#物件導向程式設計（Object-Oriented-Programming，OOP）" class="headerlink" title="物件導向程式設計（Object Oriented Programming，OOP）"></a>物件導向程式設計（Object Oriented Programming，OOP）</h1><p>物件導向程式設計（Object-Oriented Programming, OOP）是一種程式設計範式，強調使用「物件」來設計軟體和程式碼。物件是具有狀態（屬性）和行為（方法）的實體。OOP 的主要目的是提高程式碼的可重用性、可維護性和可擴展性。</p><p>舉個例子：比如我現在正在 coding，用物件導向程式設計的邏輯來看的話，就是如以下表格所示（參考自：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://hackmd.io/@metal35x/rk2uiTnXI">何謂物件導向程式設計 - HackMD</a>）：</p><div class="table-container"><table><thead><tr><th>類別（class）</th><th>物件名稱（name）</th><th>物件屬性（property）</th><th>物件操作方法（method）</th></tr></thead><tbody><tr><td>人類</td><td>我（LukeTseng）</td><td>具有靈活的雙手</td><td>操作鍵盤滑鼠</td></tr><tr><td>電腦</td><td>個人電腦 PC</td><td>CPU：i5-6400、GPU：MSI RTX 4060 Ti 8G 等</td><td>控制各個元件</td></tr><tr><td>鍵盤</td><td>Logic Signature K855</td><td>具有許多鍵位（如：WASD等）</td><td>鍵盤輸入文字</td></tr><tr><td>螢幕</td><td>MSI（我忘記是啥型號了XD）</td><td>100 Hz、內建喇叭等</td><td>顯示彩色畫面、文字</td></tr></tbody></table></div><p>物件，想像成是一個形體或物品，就好比我這個個體就是一種物件，電腦也是一種物件。但是細分下去，CPU、GPU等等也都可以被稱為是一種物件。</p><p>回歸到 Lua 本身，其實他並不是完全或原生的物件導向的程式語言，但是我們可以透過 table、metatable 模擬出物件導向的特性。</p><p>以下是關於物件導向的特性：</p><ol><li><strong>封裝（Encapsulation）</strong>：將物件的狀態（屬性）和行為（方法）封裝在一起，並隱藏物件的內部實際細節。這樣可以保護物件的狀態不被外部直接修改，只能通過物件的方法來運算。</li><li><strong>繼承（Inheritance）</strong>：能讓一個類別（子類別）從另一個類別（父類別）繼承屬性和方法。這樣可以重複使用父類別的程式碼，並在子類別中擴展或修改其行為（方法）。</li><li><strong>多型（Polymorphism）</strong>：能讓不同的物件以相同的方式響應相同的方法呼叫。表示可以用相同的介面來操作不同型態的物件，且不需要知道它們的具體型態。（簡短說就是指同一行為能有不同結果，例如滑鼠左鍵點某個網站連結直接導向那個網站，在網站裡面點各個按鈕又是不一樣的結果）</li><li><strong>抽象（Abstraction）</strong>：指只顯示物件的必要部分，隱藏不必要的細節。可以簡化複雜系統的設計，讓 user 只需要用到重要的部分。</li></ol><p>關於上述四點，筆者這邊用 python 的例子來舉例：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 封裝（Encapsulation）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__name = name  <span class="comment"># 私有屬性 -&gt; 封裝特性：只有這個類別裡面的方法才能用這個物件</span></span><br><span class="line">        <span class="variable language_">self</span>.__age = age    <span class="comment"># 私有屬性 -&gt; 封裝特性：只有這個類別裡面的方法才能用這個物件</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.__name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_age</span>(<span class="params">self, age</span>):</span><br><span class="line">        <span class="keyword">if</span> age &gt; <span class="number">0</span>:</span><br><span class="line">            <span class="variable language_">self</span>.__age = age</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 繼承（Inheritance）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">      <span class="variable language_">self</span>.name = name</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">      <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>): <span class="comment"># Dog 類別繼承 Animal 類別，所以 Dog 可以用 Animal 的方法跟物件</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;Woof!&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多型（Polymorphism）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">      <span class="variable language_">self</span>.name = name</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">      <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;Woof!&quot;</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;Meow!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">make_animal_speak</span>(<span class="params">animal</span>):</span><br><span class="line">  <span class="built_in">print</span>(animal.speak()) <span class="comment"># 同種呼叫方式有不同結果（因為不同動物：dog、cat）</span></span><br><span class="line"></span><br><span class="line">dog = Dog(<span class="string">&quot;Buddy&quot;</span>) </span><br><span class="line">cat = Cat(<span class="string">&quot;Whiskers&quot;</span>)</span><br><span class="line"></span><br><span class="line">make_animal_speak(dog)  <span class="comment"># Woof!</span></span><br><span class="line">make_animal_speak(cat)  <span class="comment"># Meow!</span></span><br></pre></td></tr></table></figure><p>抽象的部分就不舉例了（因為抽象概念其實好了解，另外程式上也用到語法糖的語法，只顯示重要的部份給 user，簡化使用者介面的複雜程度）</p><p>接下來讓我們進入 Lua 版本的物件導向程式設計</p><h2 id="Lua-物件導向"><a href="#Lua-物件導向" class="headerlink" title="Lua 物件導向"></a>Lua 物件導向</h2><p>物件是由屬性和方法所組成的。Lua 中最基本的資料結構是 table，所以需要用 table 來描述物件的屬性。</p><p>方法其實就是由函數（function）所組成的，所以可以在 lua 當中用 table + function 重現 class。</p><p>以下是用表與函數結合的模擬類別（來自：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-object-oriented.html">Lua 面向对象 | 菜鸟教程</a>）：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Account = &#123;balance = <span class="number">0</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Account.withdraw</span> <span class="params">(v)</span></span></span><br><span class="line">    Account.balance = Account.balance - v</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>這個函數的作用域被保存在 Account 裡面做使用，也就是所謂的方法（Method），可以用以下這方式呼叫這個函數：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Account.withdraw(100.00)</span><br></pre></td></tr></table></figure><p>是不是就有點像之前學過的字串方法呢？像是：string.upper() 一樣。</p><p>以下是筆者自創範例：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 定義 Person 類別</span></span><br><span class="line">Person = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Person 類別的建構方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person:new</span><span class="params">(name, age)</span></span></span><br><span class="line">    <span class="keyword">local</span> newObj = &#123; name = name, age = age &#125;</span><br><span class="line">    <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">setmetatable</span>(newObj, <span class="built_in">self</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Person 類別的方法：顯示個人資訊</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person:showInfo</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Name: &quot;</span> .. <span class="built_in">self</span>.name .. <span class="string">&quot;, Age: &quot;</span> .. <span class="built_in">self</span>.age)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 創建 Person 類別的實例</span></span><br><span class="line"><span class="keyword">local</span> person1 = Person:new(<span class="string">&quot;John&quot;</span>, <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 呼叫實例的方法</span></span><br><span class="line">person1:showInfo()</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 存取 person1 的屬性</span></span><br><span class="line"><span class="built_in">print</span>(person1.age)</span><br></pre></td></tr></table></figure><p>:::info<br>建構方法（又稱構造函數：Constructor）：主要用於在創建物件時「初始化」物件，給物件成員變數（屬性）賦予初始值。</p><p><code>local person1 = Person:new(&quot;John&quot;, 30)</code> 創建一個物件（實例：Instance，一個具體的物件，有詳細的內容，在這範例當中包含人名跟年齡）。實例就直接看成一個個體，像筆者 LukeTseng 是一個個體，更詳細一點內容就是我的身高年齡血壓等等，每個實例的屬性值可以是不同的，表示每個實例都是獨立的，擁有自己的狀態。</p><p><code>print(person1.age)</code> 存取 person1 實例的屬性。<br>:::</p><p>:::info<br><strong>為什麼用冒號 <code>:</code>？</strong></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 使用點（.）呼叫</span></span><br><span class="line">person1.showInfo(Person)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 使用冒號（:）呼叫</span></span><br><span class="line">person1:showInfo()</span><br></pre></td></tr></table></figure><p>用 <code>.</code> 需要明確輸入參數進去，用冒號的話，Lua 自動將 Person 作為 self 參數傳遞給showInfo 函數，使呼叫動作更加簡潔、直觀。<br>:::</p><h2 id="Lua-繼承"><a href="#Lua-繼承" class="headerlink" title="Lua 繼承"></a>Lua 繼承</h2><p>可以透過 metatable 實現。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 父類別 Animal 定義</span></span><br><span class="line">Animal = &#123;&#125;</span><br><span class="line">Animal.<span class="built_in">__index</span> = Animal</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal:new</span><span class="params">(name)</span></span></span><br><span class="line">    <span class="keyword">local</span> instance = <span class="built_in">setmetatable</span>(&#123;&#125;, Animal)</span><br><span class="line">    instance.name = name</span><br><span class="line">    <span class="keyword">return</span> instance</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal:speak</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.name .. <span class="string">&quot; makes a sound.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 子類別 Dog 繼承自 Animal</span></span><br><span class="line">Dog = <span class="built_in">setmetatable</span>(&#123;&#125;, &#123;<span class="built_in">__index</span> = Animal&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog:new</span><span class="params">(name)</span></span></span><br><span class="line">    <span class="keyword">local</span> instance = <span class="built_in">setmetatable</span>(Animal:new(name), Dog)</span><br><span class="line">    <span class="keyword">return</span> instance</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog:speak</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.name .. <span class="string">&quot; barks.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> animal = Animal:new(<span class="string">&quot;Some animal&quot;</span>)</span><br><span class="line">animal:speak()  <span class="comment">-- Some animal makes a sound.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> dog = Dog:new(<span class="string">&quot;Rex&quot;</span>)</span><br><span class="line">dog:speak()  <span class="comment">-- Rex barks.</span></span><br></pre></td></tr></table></figure><h1 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h1><p>物件導向程式設計（Object-Oriented Programming, OOP）是一種強調使用「物件」來設計軟體和程式碼的程式設計範式。物件是具有狀態（屬性）和行為（方法）的實體。OOP 的主要目的是提高程式碼的可重用性、可維護性和可擴展性。</p><p>OOP 的四大特性包括：</p><ul><li>封裝（Encapsulation）：將物件的狀態和行為封裝在一起，隱藏內部細節，只能通過物件的方法來操作狀態。</li><li>繼承（Inheritance）：允許一個類別（子類別）從另一個類別（父類別）繼承屬性和方法，實現程式碼的重用。</li><li>多型（Polymorphism）：不同的物件可以以相同的方式響應相同的方法呼叫，實現同一行為有不同的執行結果。（簡單來說就是同一行為有不同結果）</li><li>抽象（Abstraction）：隱藏不必要的細節，只顯示物件的必要部分，簡化系統設計。</li></ul><p>Lua 雖然不是原生物件導向的語言，但可以透過 table 和 metatable 來模擬類別（class）、繼承（inheritance）等物件導向的特性。</p><p>Lua 用 table 來描述物件的屬性，並通過函數（function）來實現方法。透過 metatable 的機制，Lua 能夠模擬出類別的繼承。</p><h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hackmd.io/@metal35x/rk2uiTnXI">何謂物件導向程式設計 - HackMD</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.lua.org/pil/16.html">Programming in Lua : 16</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://opensourcedoc.com/lua-programming/object/">[Lua] 程式設計教學：撰寫基於物件的 (object-based) 程式 | 開源技術教學</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/lua/lua-object-oriented.html">Lua 面向对象 | 菜鸟教程</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://luketsengtw.github.io">LukeTseng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章連結: </span><span class="post-copyright-info"><a href="https://luketsengtw.github.io/posts/bb4e680f">https://luketsengtw.github.io/posts/bb4e680f</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版權聲明: </span><span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 授權協議。轉載請註明來源 <a href="https://luketsengtw.github.io" target="_blank">Yaoの程式小窩</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80/">程式語言</a><a class="post-meta__tags" href="/tags/Lua/">Lua</a></div><div class="post-share"><div class="social-share" data-image="/img/lua_cover.png" data-sites="facebook, twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/7d9ac874" title="【Lua 筆記】元表（MetaTable） - part 10"><img class="cover" src="/img/lua_cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">【Lua 筆記】元表（MetaTable） - part 10</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】元表（MetaTable） - part 10由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 元表（MetaTable） 在 Lua table 中我們可以存取到對應的 key 來得到 value 值，但是卻無法對兩個 table 進行運算操作（例如相加）。因此 Lua 提供了元表（MetaTable），允許我們改變 table 的行為，每個行為關聯了對應的元方法。 所以元表（MetaTable）可以讓我們針對 table 進行一些運算操作。 而在對 table 跟 table 之間進行運算的時候，Lua 首先會檢查兩者之間是否存在元表這個東西，例如會檢查是否有 __add 存在，找到的話，則其對應的值（往往是一個函數或是 table）就是”元方法”。 有兩個很重要的函數是專門用來處理元表的： setmetatable(table, met...</div></div></div></a><a class="pagination-related" href="/posts/82615521" title="【Lua 筆記】數學函式庫 - 番外"><img class="cover" src="/img/lua_cover.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">【Lua 筆記】數學函式庫 - 番外</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】數學函式庫 - 番外詳情參考自：Lua 5.4 Reference Manual math.abs(x) - 回傳 x 的絕對值。 math.acos(x) - 回傳 x 的反餘弦值（以弧度為單位）。 math.asin(x) - 回傳 x 的反正弦值（以弧度為單位）。 math.atan(x) - 回傳 x 的反正切值（以弧度為單位）。 math.atan2(y, x) - 回傳點 (x, y) 的反正切值（以弧度為單位）。 math.ceil(x) - 回傳不小於 x 的最小整數。（可理解成無條件進位） math.cos(x) - 回傳 x 的餘弦值（x 是以弧度為單位）。 math.cosh(x) - 回傳 x 的雙曲餘弦值。 math.deg(x) - 將角度 x 從弧度轉換為角度。 math.exp(x) - 回傳 e（數學常數） 的 x 次方。 math.floor(x) - 回傳不大於 x 的最大整數。（可理解成無條件退位） math.fmod(x, y) - 回傳 x 除以 y 的餘數。 math.huge - 表示無窮大的值。 math.log...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/6d37a3dd" title="【Lua 筆記】陣列 - part 5"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-23</div><div class="info-item-2">【Lua 筆記】陣列 - part 5</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】陣列 - part 5由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 陣列（Array）我們先來看看 Lua 的陣列長怎樣： 1myArray = &#123;10, 20, 30, 40, 50&#125; 陣列（Array），用兩個大括號 &#123;&#125; 將資料圍起來，在 Lua 當中並沒有給它特定的資料型態，而是被一個稱為 table（表）的資料型態所包圍起來。 所以 type(myArray) 輸出結果會是 table： 12myArray = &#123;10, 20, 30, 40, 50&#125;print(type(myArray)) --&gt; table :::danger切記：Lua 的陣列索引從 1 開始。也可以自定義從 0 開始，等下會說怎麼做。::: 回歸到問題本身，各位可能仍然還會疑惑的一點是，陣列到底...</div></div></div></a><a class="pagination-related" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-23</div><div class="info-item-2">【Lua 筆記】延伸 for 迴圈 - part 6</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】延伸 for 迴圈 - part 6由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 for in 迴圈for 迴圈分為兩類： for do 迴圈 for in do 迴圈 之前我們說的 for 都是 for do 迴圈。 今天來談 for in do 這個迴圈，它主要是用來迭代陣列或表的。可以分別用 ipairs、pairs 進行處理。 迭代陣列值範例來源：【30天Lua重拾筆記13】基礎2: 控制-for迴圈 - iT 邦幫忙::一起幫忙解決難題，拯救 IT 人的一天 12345array = &#123;&quot;one&quot;, &quot;two&quot;, &quot;three&quot;&#125;for i, v in ipairs(array) do print(i, v)end 輸出結果： 1231 one2...</div></div></div></a><a class="pagination-related" href="/posts/1a93cb3f" title="【Lua 筆記】條件控制 - part 3"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-15</div><div class="info-item-2">【Lua 筆記】條件控制 - part 3</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】條件控制 - part 3由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 條件控制（Condition）條件控制，大多程式語言所用到的關鍵字為「if」。 if 就是如果的意思，為什麼要用到條件控制呢？舉個例子：”如果”今天下雨，那麼我就帶雨傘。 那”如果”今天不下雨，”否則”我就不帶雨傘。 如果是關鍵字，否則同屬之。-&gt; if、else 關鍵字 從上面例子可以看出來，”如果”今天下雨這個條件不成立，也就是今天不下雨，則會觸發”否則”這個條件。 在進入正式的語法之前，先來個重要的觀念： 控制結構的條件式結果可以是任何值，Lua 認為 false 和 nil 為假，true 和非 nil 為真（非常重要！！！！）。要注意的是 Lua 中 0 為 true： 1234--[ 0 為 true ]if (0) then print(&qu...</div></div></div></a><a class="pagination-related" href="/posts/9793b663" title="【Lua 筆記】迴圈 - part 4"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-15</div><div class="info-item-2">【Lua 筆記】迴圈 - part 4</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】迴圈 - part 4由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 迴圈（loop）迴圈即一個循環。 很多時候我們會需要重複執行一個動作，以生活舉例，像是平時上廁所（無論小便、大便）會是一個迴圈，因為這是我們不斷持續在做的事情。又或者是在長跑時，跑了好幾圈操場，這也是一種迴圈。 回到正題，Lua 共支援以下幾種迴圈語法： while for repeat…until break goto while、for 一定是每個程式語言基本配備，接下來讓我們先來看看 while 迴圈： while 迴圈while 是一種具有條件判斷的迴圈，格式如下： 123while (condition) do statementsend 當 condition 這個條件成立，也就是 condition = true 的時候，迴圈才會執行。 至於執行什麼內容呢...</div></div></div></a><a class="pagination-related" href="/posts/82615521" title="【Lua 筆記】數學函式庫 - 番外"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-02</div><div class="info-item-2">【Lua 筆記】數學函式庫 - 番外</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】數學函式庫 - 番外詳情參考自：Lua 5.4 Reference Manual math.abs(x) - 回傳 x 的絕對值。 math.acos(x) - 回傳 x 的反餘弦值（以弧度為單位）。 math.asin(x) - 回傳 x 的反正弦值（以弧度為單位）。 math.atan(x) - 回傳 x 的反正切值（以弧度為單位）。 math.atan2(y, x) - 回傳點 (x, y) 的反正切值（以弧度為單位）。 math.ceil(x) - 回傳不小於 x 的最小整數。（可理解成無條件進位） math.cos(x) - 回傳 x 的餘弦值（x 是以弧度為單位）。 math.cosh(x) - 回傳 x 的雙曲餘弦值。 math.deg(x) - 將角度 x 從弧度轉換為角度。 math.exp(x) - 回傳 e（數學常數） 的 x 次方。 math.floor(x) - 回傳不大於 x 的最大整數。（可理解成無條件退位） math.fmod(x, y) - 回傳 x 除以 y 的餘數。 math.huge - 表示無窮大的值。 math.log...</div></div></div></a><a class="pagination-related" href="/posts/7d9ac874" title="【Lua 筆記】元表（MetaTable） - part 10"><img class="cover" src="/img/lua_cover.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-30</div><div class="info-item-2">【Lua 筆記】元表（MetaTable） - part 10</div></div><div class="info-2"><div class="info-item-1">【Lua 筆記】元表（MetaTable） - part 10由於有款遊戲叫做 CSO（Counter-Strike Online），內建模式創世者模式（Studio）新增使用 Lua 及其遊戲的 API，所以突發奇想製作這個筆記。 這個筆記會在一開始先著重純粹的程式設計自學，在最後的章節才會與 CSO 遊戲 API 進行應用。 元表（MetaTable） 在 Lua table 中我們可以存取到對應的 key 來得到 value 值，但是卻無法對兩個 table 進行運算操作（例如相加）。因此 Lua 提供了元表（MetaTable），允許我們改變 table 的行為，每個行為關聯了對應的元方法。 所以元表（MetaTable）可以讓我們針對 table 進行一些運算操作。 而在對 table 跟 table 之間進行運算的時候，Lua 首先會檢查兩者之間是否存在元表這個東西，例如會檢查是否有 __add 存在，找到的話，則其對應的值（往往是一個函數或是 table）就是”元方法”。 有兩個很重要的函數是專門用來處理元表的： setmetatable(table, met...</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 評論</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">LukeTseng</div><div class="author-info-description">一個軟硬體都愛的資訊人，也是個無名的程式熱愛者。目前仍主要活躍於 Hackmd 平台上，基本上本站與此同步更新。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">136</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">44</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">18</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/LukeTsengTW"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/LukeTsengTW" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color:#hdhfbb"></i></a><a class="social-icon" href="https://hackmd.io/@LukeTseng" rel="external nofollow noreferrer" target="_blank" title="Hackmd"><i class="fas fa-file-lines" style="color:#4e44fe"></i></a><a class="social-icon" href="https://www.instagram.com/moonouo_" rel="external nofollow noreferrer" target="_blank" title="Instagram"><i class="fab fa-square-instagram" style="color:#dd2a7b"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%80%90Lua-%E7%AD%86%E8%A8%98%E3%80%91%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88%EF%BC%88Object-Oriented-Programming%EF%BC%8COOP%EF%BC%89-part-11"><span class="toc-number">1.</span> <span class="toc-text">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88%EF%BC%88Object-Oriented-Programming%EF%BC%8COOP%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">物件導向程式設計（Object Oriented Programming，OOP）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Lua-%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91"><span class="toc-number">2.1.</span> <span class="toc-text">Lua 物件導向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lua-%E7%B9%BC%E6%89%BF"><span class="toc-number">2.2.</span> <span class="toc-text">Lua 繼承</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B8%BD%E7%B5%90"><span class="toc-number">3.</span> <span class="toc-text">總結</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99"><span class="toc-number">4.</span> <span class="toc-text">參考資料</span></a></li></ol></div></div><div class="card-widget card-post-series"><div class="item-headline"><i class="fa-solid fa-layer-group"></i><span>Lua 系列文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/82615521" title="【Lua 筆記】數學函式庫 - 番外"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】數學函式庫 - 番外"></a><div class="content"><a class="title" href="/posts/82615521" title="【Lua 筆記】數學函式庫 - 番外">【Lua 筆記】數學函式庫 - 番外</a><time datetime="2024-07-02T08:04:02.000Z" title="發表於 2024-07-02 16:04:02">2024-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/bb4e680f" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11"></a><div class="content"><a class="title" href="/posts/bb4e680f" title="【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11">【Lua 筆記】物件導向程式設計（Object Oriented Programming，OOP） - part 11</a><time datetime="2024-07-01T07:37:35.000Z" title="發表於 2024-07-01 15:37:35">2024-07-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7d9ac874" title="【Lua 筆記】元表（MetaTable） - part 10"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】元表（MetaTable） - part 10"></a><div class="content"><a class="title" href="/posts/7d9ac874" title="【Lua 筆記】元表（MetaTable） - part 10">【Lua 筆記】元表（MetaTable） - part 10</a><time datetime="2024-06-30T06:00:15.000Z" title="發表於 2024-06-30 14:00:15">2024-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a646f474" title="【Lua 筆記】表（table） - part 9"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】表（table） - part 9"></a><div class="content"><a class="title" href="/posts/a646f474" title="【Lua 筆記】表（table） - part 9">【Lua 筆記】表（table） - part 9</a><time datetime="2024-06-29T14:20:31.000Z" title="發表於 2024-06-29 22:20:31">2024-06-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ca9a09b" title="【Lua 筆記】字串（String） - part 8"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】字串（String） - part 8"></a><div class="content"><a class="title" href="/posts/ca9a09b" title="【Lua 筆記】字串（String） - part 8">【Lua 筆記】字串（String） - part 8</a><time datetime="2024-06-24T11:15:48.000Z" title="發表於 2024-06-24 19:15:48">2024-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/453d0377" title="【Lua 筆記】作用域 / 函數 - part 7"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】作用域 / 函數 - part 7"></a><div class="content"><a class="title" href="/posts/453d0377" title="【Lua 筆記】作用域 / 函數 - part 7">【Lua 筆記】作用域 / 函數 - part 7</a><time datetime="2024-06-23T16:39:58.000Z" title="發表於 2024-06-24 00:39:58">2024-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】延伸 for 迴圈 - part 6"></a><div class="content"><a class="title" href="/posts/e070f4bc" title="【Lua 筆記】延伸 for 迴圈 - part 6">【Lua 筆記】延伸 for 迴圈 - part 6</a><time datetime="2024-06-23T07:02:21.000Z" title="發表於 2024-06-23 15:02:21">2024-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/6d37a3dd" title="【Lua 筆記】陣列 - part 5"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】陣列 - part 5"></a><div class="content"><a class="title" href="/posts/6d37a3dd" title="【Lua 筆記】陣列 - part 5">【Lua 筆記】陣列 - part 5</a><time datetime="2024-06-22T16:00:28.000Z" title="發表於 2024-06-23 00:00:28">2024-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/9793b663" title="【Lua 筆記】迴圈 - part 4"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】迴圈 - part 4"></a><div class="content"><a class="title" href="/posts/9793b663" title="【Lua 筆記】迴圈 - part 4">【Lua 筆記】迴圈 - part 4</a><time datetime="2024-06-15T12:45:05.000Z" title="發表於 2024-06-15 20:45:05">2024-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1a93cb3f" title="【Lua 筆記】條件控制 - part 3"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】條件控制 - part 3"></a><div class="content"><a class="title" href="/posts/1a93cb3f" title="【Lua 筆記】條件控制 - part 3">【Lua 筆記】條件控制 - part 3</a><time datetime="2024-06-15T10:33:36.000Z" title="發表於 2024-06-15 18:33:36">2024-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/309a1c3e" title="【Lua 筆記】運算子 - part 2"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】運算子 - part 2"></a><div class="content"><a class="title" href="/posts/309a1c3e" title="【Lua 筆記】運算子 - part 2">【Lua 筆記】運算子 - part 2</a><time datetime="2024-06-15T09:10:50.000Z" title="發表於 2024-06-15 17:10:50">2024-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/29d430c4" title="【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1"><img src="/img/lua_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1"></a><div class="content"><a class="title" href="/posts/29d430c4" title="【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1">【Lua 筆記】簡介 / 基本語法及資料型態 / 變數 - part 1</a><time datetime="2024-06-15T07:32:39.000Z" title="發表於 2024-06-15 15:32:39">2024-06-15</time></div></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/54836959" title="【Python 網路爬蟲筆記】Introduction - part 1"><img src="/img/python_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Python 網路爬蟲筆記】Introduction - part 1"></a><div class="content"><a class="title" href="/posts/54836959" title="【Python 網路爬蟲筆記】Introduction - part 1">【Python 網路爬蟲筆記】Introduction - part 1</a><time datetime="2025-09-15T14:30:52.000Z" title="發表於 2025-09-15 22:30:52">2025-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e9485c30" title="【Leetcode C++ 解題筆記】Divide &amp; Conquer - part 2"><img src="/img/leetcode_cover.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Leetcode C++ 解題筆記】Divide &amp; Conquer - part 2"></a><div class="content"><a class="title" href="/posts/e9485c30" title="【Leetcode C++ 解題筆記】Divide &amp; Conquer - part 2">【Leetcode C++ 解題筆記】Divide &amp; Conquer - part 2</a><time datetime="2025-09-13T13:01:28.000Z" title="發表於 2025-09-13 21:01:28">2025-09-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/16431172" title="2025 VMWare Workstation Pro 免費安裝教學"><img src="/img/vmware_icon.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="2025 VMWare Workstation Pro 免費安裝教學"></a><div class="content"><a class="title" href="/posts/16431172" title="2025 VMWare Workstation Pro 免費安裝教學">2025 VMWare Workstation Pro 免費安裝教學</a><time datetime="2025-09-12T09:17:42.000Z" title="發表於 2025-09-12 17:17:42">2025-09-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/19762e94" title="【Uva 題庫解題】C++ 個人解題筆記 - part3"><img src="/img/uva_cover.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【Uva 題庫解題】C++ 個人解題筆記 - part3"></a><div class="content"><a class="title" href="/posts/19762e94" title="【Uva 題庫解題】C++ 個人解題筆記 - part3">【Uva 題庫解題】C++ 個人解題筆記 - part3</a><time datetime="2025-09-10T14:55:44.000Z" title="發表於 2025-09-10 22:55:44">2025-09-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/83a9ec1" title="淺談二進位與十六進位，為什麼電腦要使用？你所不知道的二進位。"><img src="/img/binary.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="淺談二進位與十六進位，為什麼電腦要使用？你所不知道的二進位。"></a><div class="content"><a class="title" href="/posts/83a9ec1" title="淺談二進位與十六進位，為什麼電腦要使用？你所不知道的二進位。">淺談二進位與十六進位，為什麼電腦要使用？你所不知道的二進位。</a><time datetime="2025-09-07T02:22:24.000Z" title="發表於 2025-09-07 10:22:24">2025-09-07</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/lua_cover.png)"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2024 - 2025 By LukeTseng</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主題 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="繁簡轉換">繁</button><button id="darkmode" type="button" title="日夜模式切換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往評論"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到頂端"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typesetPromise();else{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"none"},chtml:{scale:1.1},options:{enableMenu:!0,renderActions:{findScript:[10,t=>{for(const e of document.querySelectorAll('script[type^="math/tex"]')){const n=!!e.type.match(/; *mode=display/),a=new t.options.MathItem(e.textContent,t.inputJax[0],n),d=document.createTextNode("");e.parentNode.replaceChild(d,e),a.start={node:d,delim:"",n:0},a.end={node:d,delim:"",n:0},t.math.push(a)}},""]}}};const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js",t.id="MathJax-script",t.async=!0,document.head.appendChild(t)}};btf.addGlobalFn("encrypt",t,"mathjax"),window.pjax?t():window.addEventListener("load",t)})()</script><script>(()=>{let e=window.walineFn||null;const n="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t={lang:"zh-TW",locale:{seconds:"秒前",minutes:"分鐘前",hours:"小時前",days:"天前",now:"剛剛",gif:"表情包",gifSearchPlaceholder:"搜尋 gif 動圖",comment:"留言",placeholder:"歡迎留言，請務必友善發言，減少衝突，讓世界更美好～"},emoji:["https://unpkg.com/@waline/emojis@1.0.1/tw-emoji"]},i=(e,i=document,o=window.location.pathname)=>{const s=e({el:i.querySelector("#waline-wrap"),serverURL:"https://discussion-kohl.vercel.app/",pageview:!0,dark:'html[data-theme="dark"]',comment:!0,...t,path:n?o:t&&t.path||o});n&&(window.shuoshuoComment.destroyWaline=()=>{s.destroy(),i.children.length&&(i.innerHTML="",i.classList.add("no-comment"))})},o=(n,t)=>{e?i(e,n,t):btf.getCSS("https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.css").then(()=>import("https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.js")).then(({init:o})=>{e=o||Waline.init,i(e,n,t),window.walineFn=e})};n?window.shuoshuoComment={loadComment:o}:setTimeout(o,0)})()</script></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜尋</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5BKRW8SL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript></div></body></html>